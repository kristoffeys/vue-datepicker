(function(e,i){typeof exports=="object"&&typeof module<"u"?module.exports=i(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],i):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=i(e.Vue,e.dateFns))})(this,function(e,i){"use strict";const Se=(t,a)=>{const l=t.__vccOpts||t;for(const[n,u]of a)l[n]=u;return l},cn={},dn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},un=[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"},null,-1)];function mn(t,a){return e.openBlock(),e.createElementBlock("svg",dn,un)}const We=Se(cn,[["render",mn]]),fn={},pn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},yn=[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"},null,-1),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function hn(t,a){return e.openBlock(),e.createElementBlock("svg",pn,yn)}const gn=Se(fn,[["render",hn]]),kn={},wn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Cn=[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function bn(t,a){return e.openBlock(),e.createElementBlock("svg",wn,Cn)}const $t=Se(kn,[["render",bn]]),Mn={},Dn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Bn=[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"},null,-1)];function Sn(t,a){return e.openBlock(),e.createElementBlock("svg",Dn,Bn)}const Vt=Se(Mn,[["render",Sn]]),$n={},Vn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},Nn=[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"},null,-1),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"},null,-1)];function Pn(t,a){return e.openBlock(),e.createElementBlock("svg",Vn,Nn)}const Nt=Se($n,[["render",Pn]]),An={},Tn={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},_n=[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"},null,-1)];function En(t,a){return e.openBlock(),e.createElementBlock("svg",Tn,_n)}const Pt=Se(An,[["render",En]]),Rn={},On={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",class:"dp__icon"},In=[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"},null,-1)];function Yn(t,a){return e.openBlock(),e.createElementBlock("svg",On,In)}const At=Se(Rn,[["render",Yn]]),Tt=(t,a)=>{const l=i.parse(t,a.slice(0,t.length),new Date);return i.isValid(l)&&i.isDate(l)?l:null},nt=(t,a)=>{if(typeof a=="string")return Tt(t,a);if(Array.isArray(a)){let l=null;for(let n=0;n<a.length&&(l=Tt(t,a[n]),!l);n++);return l}return typeof a=="function"?a(t):null},fe=t=>{let a=new Date(JSON.parse(JSON.stringify(t)));return a=i.setHours(a,0),a=i.setMinutes(a,0),a=i.setSeconds(a,0),a=i.setMilliseconds(a,0),a},lt=t=>Array.isArray(t)?i.isValid(t[0])&&(t[1]?i.isValid(t[1]):!0):t?i.isValid(t):!1,se=(t,a,l,n)=>{let u=t?new Date(t):new Date;return(a||a===0)&&(u=i.setHours(u,+a)),(l||l===0)&&(u=i.setMinutes(u,+l)),(n||n===0)&&(u=i.setSeconds(u,+n)),i.setMilliseconds(u,0)},Kn=t=>{const a=i.addMonths(t,1);return{month:i.getMonth(a),year:i.getYear(a)}},$e=(t,a,l)=>{let n=t?new Date(t):new Date;return(a||a===0)&&(n=i.setMonth(n,a)),l&&(n=i.setYear(n,l)),n},_t=(t,a)=>t?`HH:mm${a?":ss":""}`:`hh:mm${a?":ss":""} aa`,Et=(t,a,l,n,u,f,h,y)=>t||(n?"MM/yyyy":u?_t(a,l):f?"MM/dd/yyyy":h?"yyyy":y?`MM/dd/yyyy, ${_t(a,l)}`:"MM/dd/yyyy"),at=t=>{const a=t||new Date;return{hours:i.getHours(a),minutes:i.getMinutes(a),seconds:i.getSeconds(a)}},Ue=t=>({month:i.getMonth(t),year:i.getYear(t)}),Rt=t=>Array.isArray(t)?[Ue(t[0]),t[1]?Ue(t[1]):null]:Ue(t),rt=t=>Array.isArray(t)?[at(t[0]),at(t[1])]:at(t),ot=(t,a,l)=>l?i.format(t,a,{locale:l}):i.format(t,a),Te=(t,a,l,n,u)=>Array.isArray(t)?`${ot(t[0],a,l)} ${u&&!t[1]?"":n||"-"} ${t[1]?ot(t[1],a,l):""}`:ot(t,a,l),re=(t,a)=>!t||!a?!1:i.isAfter(fe(t),fe(a)),ae=(t,a)=>!t||!a?!1:i.isBefore(fe(t),fe(a)),x=(t,a)=>!t||!a?!1:i.isEqual(fe(t),fe(a)),Hn=(t,a)=>i.add(i.set(new Date,t),a),vn=(t,a)=>i.sub(i.set(new Date,t),a),st=t=>i.set(new Date,{hours:i.getHours(t),minutes:i.getMinutes(t),seconds:i.getSeconds(t)}),Ot=t=>i.set(new Date,{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),_e=(t,a,l,n)=>{if(!t)return!0;if(n){const u=l==="max"?i.isBefore(t,a):i.isAfter(t,a),f={seconds:0,milliseconds:0};return u||i.isEqual(i.set(t,f),i.set(a,f))}return l==="max"?t.getTime()<=a.getTime():t.getTime()>=a.getTime()},it=(t,a,l,n,u)=>{let f=!0;if(!t)return!0;const h=!u&&!n?Array.isArray(t)?[t[0]?st(t[0]):null,t[1]?st(t[1]):null]:st(t):t;if(a||n){const y=a?Ot(a):new Date(n);Array.isArray(h)?f=_e(h[0],y,"max",!!n)&&_e(h[1],y,"max",!!n):f=_e(h,y,"max",!!n)}if(l||u){const y=l?Ot(l):new Date(u);Array.isArray(h)?f=_e(h[0],y,"min",!!u)&&_e(h[1],y,"min",!!u)&&f:f=_e(h,y,"min",!!u)&&f}return f},Ln=(t,a,l)=>{let n=!0;return a&&l&&(n=re(new Date(t),new Date(a))&&ae(new Date(t),new Date(l))),a&&(n=re(new Date(t),new Date(a))),l&&(n=ae(new Date(t),new Date(l))),n},pe=t=>t instanceof Date?t:i.parseISO(t),ct=(t,a)=>{if(a){const n=new Date().getTimezoneOffset()*6e4;return new Date(t.getTime()-n).toISOString()}const l=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(l).toISOString()},It=(t,a,l)=>t&&t[0]&&t[1]?re(l,t[0])&&ae(l,t[1]):t&&t[0]&&a?re(l,t[0])&&ae(l,a)||ae(l,t[0])&&re(l,a):!1,Ge=(t,a)=>{const l=i.startOfWeek(t,{weekStartsOn:a}),n=i.endOfWeek(t,{weekStartsOn:a});return[l,n]},Yt=(t,a)=>Array.isArray(a)?a.some(l=>x(pe(new Date(l)),pe(t))):a(t),zn=(t,a,l,n,u,f,h,y)=>{const g=l?re(pe(t),pe(l)):!1,w=a?ae(pe(t),pe(a)):!1,N=Yt(t,n),O=(f.months.length?f.months.map(r=>+r):[]).includes(i.getMonth(t)),_=h.length?h.some(r=>+r===i.getDay(t)):!1,H=u.length?!u.some(r=>x(pe(r),pe(t))):!1,T=i.getYear(t),X=T<+y[0]||T>+y[1];return!(g||w||N||O||X||_||H)},Kt=(t,a,l,n,u,f,h)=>({validate:g=>zn(g,t,a,l,n,u,f,h)}),we=Symbol(),Xe=Symbol(),dt=Symbol(),Ht=Symbol(),vt=Symbol(),Ce=Symbol(),ut=Symbol(),mt={disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1}},ft={range:{type:Boolean,default:!1},uid:{type:String,default:null}},Lt={enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1}},zt={...Lt,fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1}},jt={name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null}},Wt={minTime:{type:Object,default:null},maxTime:{type:Object,default:null}},pt={minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null}},Ut={selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},...Wt},yt={monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1}},Gt={locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:Boolean,default:!1},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null}},Xt={...zt,...Ut,...yt,...pt,...Gt,...ft,vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},monthYearComponent:{type:Object,default:null},timePickerComponent:{type:Object,default:null},actionRowComponent:{type:Object,default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:()=>[]},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleportCenter:{type:Boolean,default:!1}},jn={...jt,...mt,...Xt,multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},teleport:{type:[String,Object],default:"body"},altPosition:{type:[Boolean,Function],default:!1},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]}},qt={range:{type:Boolean,default:!1},multiCalendars:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null}},Jt={...yt,...qt,vertical:{type:Boolean,default:!1},month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:1}},Wn=["aria-label","aria-disabled","aria-readonly"],Un={key:1,class:"dp__input_wrap"},Gn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","onKeydown"],Xn={key:2,class:"dp__input_icon"},qn={key:4,class:"dp__clear_icon"},Jn={compatConfig:{MODE:3}},Zn=e.defineComponent({...Jn,__name:"DatepickerInput",props:{...jt,...mt,...ft,inputValue:{type:String,default:""},inline:{type:Boolean,default:!1},isMenuOpen:{type:Boolean,default:!1},pattern:{type:String,default:""}},emits:["clear","open","update:inputValue","setInputDate","close","selectDate","setEmptyDate","toggle","focus-prev","focus","blur"],setup(t,{expose:a,emit:l}){const n=t,u=e.ref(),f=e.ref(null),h=e.ref(!1),y=e.inject(we),g=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!n.textInput,dp__disabled:n.disabled,dp__input_readonly:!n.textInput,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:h.value||n.isMenuOpen,dp__input_reg:!n.textInput,[n.inputClassName]:!!n.inputClassName})),w=c=>{var Y;const{value:E}=c.target,{format:q,rangeSeparator:V}=n.textInputOptions;if(E!==""){if(((Y=n.textInputOptions)==null?void 0:Y.openMenu)&&!n.isMenuOpen&&l("open"),n.range){const[U,Z]=E.split(`${V}`);if(U&&Z){const j=nt(U.trim(),q||n.pattern),z=nt(Z.trim(),q||n.pattern);u.value=j&&z?[j,z]:null}}else u.value=nt(E,q||n.pattern);l("setInputDate",u.value)}else l("setInputDate",null),n.autoApply&&(l("setEmptyDate"),u.value=null);l("update:inputValue",E)},N=()=>{var c,E;((c=n.textInputOptions)==null?void 0:c.enterSubmit)&&lt(u.value)&&n.inputValue!==""?(l("setInputDate",u.value,!0),u.value=null):((E=n.textInputOptions)==null?void 0:E.enterSubmit)&&n.inputValue===""&&(u.value=null,l("clear"))},P=()=>{var c,E;((c=n.textInputOptions)==null?void 0:c.tabSubmit)&&lt(u.value)&&n.inputValue!==""?(l("setInputDate",u.value,!0),u.value=null):((E=n.textInputOptions)==null?void 0:E.tabSubmit)&&n.inputValue===""&&(u.value=null,l("clear"))},O=()=>{h.value=!0,l("focus")},_=c=>{var E;c.preventDefault(),c.stopImmediatePropagation(),c.stopPropagation(),n.textInput&&((E=n.textInputOptions)==null?void 0:E.openMenu)?n.isMenuOpen?n.textInputOptions.enterSubmit&&l("selectDate"):l("open"):n.textInput||l("toggle")},H=()=>{h.value=!1,n.isMenuOpen||l("blur"),n.autoApply&&n.textInput&&u.value&&(l("setInputDate",u.value),l("selectDate"),u.value=null)},T=()=>{l("clear")},X=c=>{n.textInput||c.preventDefault()};return a({focusInput:()=>{f.value&&f.value.focus({preventScroll:!0})}}),(c,E)=>(e.openBlock(),e.createElementBlock("div",{onClick:_,"aria-label":e.unref(y).input,role:"textbox","aria-multiline":"false","aria-disabled":c.disabled,"aria-readonly":c.readonly},[c.$slots.trigger&&!c.$slots["dp-input"]&&!t.inline?e.renderSlot(c.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!c.$slots.trigger&&(!t.inline||c.inlineWithInput)?(e.openBlock(),e.createElementBlock("div",Un,[c.$slots["dp-input"]&&!c.$slots.trigger&&!t.inline?e.renderSlot(c.$slots,"dp-input",{key:0,value:t.inputValue,onInput:w,onEnter:N,onTab:P,onClear:T}):e.createCommentVNode("",!0),c.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:f,id:c.uid?`dp-input-${c.uid}`:void 0,name:c.name,class:e.normalizeClass(e.unref(g)),inputmode:c.textInput?"text":"none",placeholder:c.placeholder,disabled:c.disabled,readonly:c.readonly,required:c.required,value:t.inputValue,autocomplete:c.autocomplete,onInput:w,onKeydown:[e.withKeys(_,["enter"]),e.withKeys(P,["tab"])],onBlur:H,onFocus:O,onKeypress:X},null,42,Gn)),c.$slots["input-icon"]&&!c.hideInputIcon?(e.openBlock(),e.createElementBlock("span",Xn,[e.renderSlot(c.$slots,"input-icon")])):e.createCommentVNode("",!0),!c.$slots["input-icon"]&&!c.hideInputIcon&&!c.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(We),{key:3,class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0),c.$slots["clear-icon"]&&t.inputValue&&c.clearable&&!c.disabled&&!c.readonly?(e.openBlock(),e.createElementBlock("span",qn,[e.renderSlot(c.$slots,"clear-icon",{clear:T})])):e.createCommentVNode("",!0),c.clearable&&!c.$slots["clear-icon"]&&t.inputValue&&!c.disabled&&!c.readonly?(e.openBlock(),e.createBlock(e.unref(gn),{key:5,class:"dp__clear_icon dp__input_icons",onClick:e.withModifiers(T,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],8,Wn))}}),Qn=t=>typeof t=="object",Zt=(t,a)=>a,Fn=t=>Array.isArray(t)&&t.length===2,xn=t=>Array.isArray(t),el=t=>typeof t=="object",Ie=t=>Array.isArray(t),me=t=>Array.isArray(t),qe=t=>Array.isArray(t)&&t.length===2,tl=(t,a)=>a?Array.isArray(t):qe(t),nl=t=>Array.isArray(t),ll=t=>typeof t=="string"||typeof t=="object"||typeof t=="number",Qt=t=>typeof t=="string",ee=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),ht=e.ref(null),Je=e.ref(!1),gt=e.ref(!1),kt=e.ref(!1),wt=e.ref(!1),oe=e.ref(0),ne=e.ref(0),be=()=>{const t=e.computed(()=>Je.value?[...ee.selectionGrid,ee.actionRow].filter(r=>r.length):gt.value?[...ee.timePicker[0],...ee.timePicker[1],wt.value?[]:[ht.value],ee.actionRow].filter(r=>r.length):kt.value?[...ee.monthPicker,ee.actionRow]:[ee.monthYear,...ee.calendar,ee.time,ee.actionRow].filter(r=>r.length)),a=r=>{oe.value=r?oe.value+1:oe.value-1;let c=null;t.value[ne.value]&&(c=t.value[ne.value][oe.value]),c||(oe.value=r?oe.value-1:oe.value+1)},l=r=>{if(ne.value===0&&!r||ne.value===t.value.length&&r)return;ne.value=r?ne.value+1:ne.value-1,t.value[ne.value]?t.value[ne.value]&&!t.value[ne.value][oe.value]&&oe.value!==0&&(oe.value=t.value[ne.value].length-1):ne.value=r?ne.value-1:ne.value+1},n=r=>{let c=null;t.value[ne.value]&&(c=t.value[ne.value][oe.value]),c?c.focus({preventScroll:!Je.value}):oe.value=r?oe.value-1:oe.value+1},u=()=>{a(!0),n(!0)},f=()=>{a(!1),n(!1)},h=()=>{l(!1),n(!0)},y=()=>{l(!0),n(!0)},g=(r,c)=>{ee[c]=r},w=(r,c)=>{ee[c]=r},N=()=>{oe.value=0,ne.value=0};return{buildMatrix:g,buildMultiLevelMatrix:w,setTimePickerBackRef:r=>{ht.value=r},setSelectionGrid:r=>{Je.value=r,N(),r||(ee.selectionGrid=[])},setTimePicker:(r,c=!1)=>{gt.value=r,wt.value=c,N(),r||(ee.timePicker[0]=[],ee.timePicker[1]=[])},setTimePickerElements:(r,c=0)=>{ee.timePicker[c]=r},arrowRight:u,arrowLeft:f,arrowUp:h,arrowDown:y,clearArrowNav:()=>{ee.monthYear=[],ee.calendar=[],ee.time=[],ee.actionRow=[],ee.selectionGrid=[],ee.timePicker[0]=[],ee.timePicker[1]=[],Je.value=!1,gt.value=!1,wt.value=!1,kt.value=!1,N(),ht.value=null},setMonthPicker:r=>{kt.value=r,N()}}},al=(t,a,l)=>{const n=new Date(JSON.parse(JSON.stringify(t))),u=[];for(let f=0;f<7;f++){const h=i.addDays(n,f),y=i.getMonth(h)!==a;u.push({text:l&&y?"":h.getDate(),value:h,current:!y})}return u},rl=(t,a,l,n)=>{const u=[],f=new Date(a,t),h=new Date(a,t+1,0),y=i.startOfWeek(f,{weekStartsOn:l}),g=w=>{const N=al(w,t,n);if(u.push({days:N}),!u[u.length-1].days.some(P=>x(fe(P.value),fe(h)))){const P=i.addDays(w,7);g(P)}};return g(y),u},ol=(t,a=3)=>{const l=[];for(let n=0;n<t.length;n+=a)l.push([t[n],t[n+1],t[n+2]]);return l},sl=(t,a)=>{const l=[1,2,3,4,5,6,7].map(f=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${f}T00:00:00+00:00`)).slice(0,2)),n=l.slice(0,a),u=l.slice(a+1,l.length);return[l[a]].concat(...u).concat(...n)},il=t=>{const a=[];for(let l=+t[0];l<=+t[1];l++)a.push({value:+l,text:`${l}`});return a},cl=(t,a)=>{const l=new Intl.DateTimeFormat(t,{month:a,timeZone:"UTC"});return[1,2,3,4,5,6,7,8,9,10,11,12].map(u=>{const f=u<10?`0${u}`:u;return new Date(`2017-${f}-01T00:00:00+00:00`)}).map((u,f)=>({text:l.format(u),value:f}))},dl=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ul=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),ml=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),fl=t=>{function l(n){let u="";const f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",h=f.length;for(let y=0;y<n;y++)u+=f.charAt(Math.floor(Math.random()*h));return u+t}return l(5)},le=t=>{var l;const a=e.unref(t);return(l=a==null?void 0:a.$el)!=null?l:a},pl=t=>Object.assign({type:"dot"},t),Ft=t=>Object.assign({menuAppear:"dp-menu-appear",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),yl=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:a=>`Increment ${a}`,decrementValue:a=>`Decrement ${a}`,openTpOverlay:a=>`Open ${a} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>null},t),xt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,hl={class:"dp__selection_preview"},gl={class:"dp__action_buttons"},kl=["onKeydown"],wl={compatConfig:{MODE:3}},Cl=e.defineComponent({...wl,__name:"ActionRow",props:{...Ut,...pt,...Wt,...yt,...qt,inline:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},menuMount:{type:Boolean,default:!1},enableTimePicker:{type:Boolean,default:!0}},emits:["closePicker","selectDate","invalid-select"],setup(t,{emit:a}){const l=t,{buildMatrix:n}=be(),u=e.inject(vt),f=e.inject(Ce),h=e.ref(null),y=e.ref(null);e.onMounted(()=>{f!=null&&f.value&&n([le(h),le(y)],"actionRow")});const g=e.computed(()=>l.range&&!l.partialRange&&l.internalModelValue?l.internalModelValue.length===2:!0),w=e.computed(()=>({dp__action:!0,dp__select:!0,dp__action_disabled:!N.value||!P.value||!g.value})),N=e.computed(()=>!l.enableTimePicker||l.ignoreTimeValidation?!0:it(l.internalModelValue,l.maxTime,l.minTime,l.maxDate,l.minDate)),P=e.computed(()=>l.monthPicker?Ln(l.internalModelValue,l.minDate,l.maxDate):!0),O=T=>Te(T,l.previewFormat,u==null?void 0:u.value),_=e.computed(()=>!l.internalModelValue||!l.menuMount?"":typeof l.previewFormat=="string"?Ie(l.internalModelValue)?l.internalModelValue.length===2&&l.internalModelValue[1]?l.multiCalendars>0?`${O(l.internalModelValue[0])} - ${O(l.internalModelValue[1])}`:[O(l.internalModelValue[0]),O(l.internalModelValue[1])]:l.multiDates?l.internalModelValue.map(T=>`${O(T)}`):l.modelAuto?`${O(l.internalModelValue[0])}`:`${O(l.internalModelValue[0])} -`:Te(l.internalModelValue,l.previewFormat,u==null?void 0:u.value):l.timePicker?l.previewFormat(rt(l.internalModelValue)):l.monthPicker?l.previewFormat(Ue(l.internalModelValue)):l.previewFormat(l.internalModelValue)),H=()=>{N.value&&P.value&&g.value?a("selectDate"):a("invalid-select")};return(T,X)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[e.createElementVNode("div",hl,[T.$slots["action-preview"]?e.renderSlot(T.$slots,"action-preview",{key:0,value:T.internalModelValue}):e.createCommentVNode("",!0),T.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Array.isArray(e.unref(_))?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(e.unref(_)),1)],64)),Array.isArray(e.unref(_))?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(_),(r,c)=>(e.openBlock(),e.createElementBlock("div",{key:c},e.toDisplayString(r),1))),128)):e.createCommentVNode("",!0)],64))]),e.createElementVNode("div",gl,[T.$slots["action-select"]?e.renderSlot(T.$slots,"action-select",{key:0,value:T.internalModelValue}):e.createCommentVNode("",!0),T.$slots["action-select"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t.inline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__action dp__cancel",ref_key:"cancelButtonRef",ref:h,tabindex:"0",onClick:X[0]||(X[0]=r=>T.$emit("closePicker")),onKeydown:[X[1]||(X[1]=e.withKeys(r=>T.$emit("closePicker"),["enter"])),X[2]||(X[2]=e.withKeys(r=>T.$emit("closePicker"),["space"]))]},e.toDisplayString(T.cancelText),545)),e.createElementVNode("span",{class:e.normalizeClass(e.unref(w)),tabindex:"0",onKeydown:[e.withKeys(H,["enter"]),e.withKeys(H,["space"])],onClick:H,ref_key:"selectButtonRef",ref:y},e.toDisplayString(T.selectText),43,kl)],64))])],4))}}),bl=["aria-label"],Ml={class:"dp__calendar_header",role:"row"},Dl={key:0,class:"dp__calendar_header_item",role:"gridcell"},Bl=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Sl=["aria-label"],$l={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Vl={class:"dp__cell_inner"},Nl=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseover"],Pl=["innerHTML"],Al={key:1},Tl=e.createElementVNode("div",{class:"dp__arrow_bottom_tp"},null,-1),_l={compatConfig:{MODE:3}},El=e.defineComponent({..._l,__name:"Calendar",props:{...Jt,...Gt,mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},modeHeight:{type:[Number,String],default:255},specificMode:{type:Boolean,default:!1}},emits:["selectDate","setHoverDate","handleScroll","mount","handleSwipe","handleSpace"],setup(t,{expose:a,emit:l}){const n=t,u=e.ref(null),f=e.ref({bottom:"",left:"",transform:""}),h=e.ref([]),y=e.ref(null),g=e.ref(!0),w=e.inject(Xe),N=e.inject(we),P=e.inject(Ce),O=e.ref(""),_=e.ref({startX:0,endX:0,startY:0,endY:0}),H=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):sl(n.locale,+n.weekStart)),{buildMultiLevelMatrix:T}=be();e.onMounted(()=>{l("mount",{cmp:"calendar",refs:h}),n.noSwipe||y.value&&(y.value.addEventListener("touchstart",Z,{passive:!1}),y.value.addEventListener("touchend",j,{passive:!1}),y.value.addEventListener("touchmove",z,{passive:!1})),n.monthChangeOnScroll&&y.value&&y.value.addEventListener("wheel",o,{passive:!1})});const X=(p,B)=>{if(w!=null&&w.value){const D=fe($e(new Date,n.month,n.year));O.value=re(fe($e(new Date,p,B)),D)?w.value[n.vertical?"vNext":"next"]:w.value[n.vertical?"vPrevious":"previous"],g.value=!1,e.nextTick(()=>{g.value=!0})}},r=e.computed(()=>({dp__calendar_wrap:!0,[n.calendarClassName]:!!n.calendarClassName})),c=e.computed(()=>p=>{const B=pl(p);return{dp__marker_dot:B.type==="dot",dp__marker_line:B.type==="line"}}),E=e.computed(()=>p=>x(p,u.value)),q=e.computed(()=>({dp__calendar:!0,dp__calendar_next:n.multiCalendars>0&&n.instance!==0})),V=e.computed(()=>n.specificMode?{height:`${n.modeHeight}px`}:null),Y=(p,B,D)=>{var $,I;if(l("setHoverDate",p),(I=($=p.marker)==null?void 0:$.tooltip)!=null&&I.length){const F=le(h.value[B][D]);if(F){const{width:Q,height:k}=F.getBoundingClientRect();f.value={bottom:`${k}px`,left:`${Q/2}px`,transform:"translateX(-50%)"},u.value=p.value}}},U=()=>{u.value=null},Z=p=>{_.value.startX=p.changedTouches[0].screenX,_.value.startY=p.changedTouches[0].screenY},j=p=>{_.value.endX=p.changedTouches[0].screenX,_.value.endY=p.changedTouches[0].screenY,b()},z=p=>{p.preventDefault()},b=()=>{const p=n.vertical?"Y":"X";Math.abs(_.value[`start${p}`]-_.value[`end${p}`])>10&&l("handleSwipe",_.value[`start${p}`]>_.value[`end${p}`]?"right":"left")},v=(p,B,D)=>{p&&(Array.isArray(h.value[B])?h.value[B][D]=p:h.value[B]=[p]),P!=null&&P.value&&T(h.value,"calendar")},o=p=>{n.monthChangeOnScroll&&(p.preventDefault(),l("handleScroll",p))};return a({triggerTransition:X}),(p,B)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(q))},[e.createElementVNode("div",{style:e.normalizeStyle(e.unref(V))},[t.specificMode?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"calendarWrapRef",ref:y,class:e.normalizeClass(e.unref(r)),role:"grid","aria-label":e.unref(N).calendarWrap},[e.createElementVNode("div",Ml,[p.weekNumbers?(e.openBlock(),e.createElementBlock("div",Dl,e.toDisplayString(p.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(H),(D,$)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:$},[p.$slots["calendar-header"]?e.renderSlot(p.$slots,"calendar-header",{key:0,day:D,index:$}):e.createCommentVNode("",!0),p.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(D),1)],64))]))),128))]),Bl,e.createVNode(e.Transition,{name:O.value,css:!!e.unref(w)},{default:e.withCtx(()=>[g.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":e.unref(N).calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.mappedDates,(D,$)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:$},[p.weekNumbers?(e.openBlock(),e.createElementBlock("div",$l,[e.createElementVNode("div",Vl,e.toDisplayString(t.getWeekNum(D.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.days,(I,F)=>{var Q,k;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:M=>v(M,$,F),key:F+$,"aria-selected":I.classData.dp__active_date||I.classData.dp__range_start||I.classData.dp__range_start,"aria-disabled":I.classData.dp__cell_disabled,"aria-label":(k=(Q=e.unref(N)).day)==null?void 0:k.call(Q,I),tabindex:"0",onClick:e.withModifiers(M=>p.$emit("selectDate",I),["stop","prevent"]),onKeydown:[e.withKeys(M=>p.$emit("selectDate",I),["enter"]),e.withKeys(M=>p.$emit("handleSpace",I),["space"])],onMouseover:M=>Y(I,$,F),onMouseleave:U},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",I.classData])},[p.$slots.day?e.renderSlot(p.$slots,"day",{key:0,day:+I.text,date:I.value}):e.createCommentVNode("",!0),p.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(I.text),1)],64)),I.marker?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(c)(I.marker)),style:e.normalizeStyle(I.marker.color?{backgroundColor:I.marker.color}:{})},null,6)):e.createCommentVNode("",!0),e.unref(E)(I.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",style:e.normalizeStyle(f.value)},[e.createElementVNode("div",{class:"dp__tooltip_content",onClick:B[0]||(B[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.marker.tooltip,(M,A)=>(e.openBlock(),e.createElementBlock("div",{key:A,class:"dp__tooltip_text"},[p.$slots["marker-tooltip"]?e.renderSlot(p.$slots,"marker-tooltip",{key:0,tooltop:M,day:I.value}):e.createCommentVNode("",!0),p.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(M.color?{backgroundColor:M.color}:{})},null,4),M.html?(e.openBlock(),e.createElementBlock("div",{key:0,innerHTML:M.html},null,8,Pl)):(e.openBlock(),e.createElementBlock("div",Al,e.toDisplayString(M.text),1))],64))]))),128)),Tl])],4)):e.createCommentVNode("",!0)],2)],40,Nl)}),128))]))),128))],8,Sl)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],10,bl))],4)],2))}}),Rl=["aria-label","aria-disabled"],Ol={compatConfig:{MODE:3}},Ct=e.defineComponent({...Ol,__name:"ActionIcon",props:{ariaLabel:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["activate","setRef"],setup(t,{emit:a}){const l=e.ref(null);return e.onMounted(()=>a("setRef",l)),(n,u)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__month_year_col_nav",onClick:u[0]||(u[0]=f=>n.$emit("activate")),onKeydown:[u[1]||(u[1]=e.withKeys(f=>n.$emit("activate"),["enter"])),u[2]||(u[2]=e.withKeys(f=>n.$emit("activate"),["space"]))],tabindex:"0",role:"button","aria-label":t.ariaLabel,"aria-disabled":t.disabled,ref_key:"elRef",ref:l},[e.createElementVNode("div",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Rl))}});var Ze=(t=>(t.center="center",t.left="left",t.right="right",t))(Ze||{});const Il=["onKeydown"],Yl={class:"dp__selection_grid_header"},Kl=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Hl=["aria-label","onKeydown"],vl={compatConfig:{MODE:3}},Ye=e.defineComponent({...vl,__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null}},emits:["update:modelValue","selected","toggle","reset-flow"],setup(t,{expose:a,emit:l}){const n=t,u=e.ref(!1),f=e.ref(null),h=e.ref(null),y=e.ref([]),g=e.inject(dt,!1),w=e.inject(Ht,e.ref(!1)),N=e.inject(we),P=e.inject(Ce),O=e.ref(),_=e.ref(),H=e.inject(ut),{setSelectionGrid:T,buildMultiLevelMatrix:X,setMonthPicker:r}=be();e.onBeforeUpdate(()=>{f.value=null}),e.onMounted(()=>{e.nextTick().then(()=>z()),E(),c(!0)}),e.onUnmounted(()=>c(!1));const c=D=>{var $;P!=null&&P.value&&(($=n.headerRefs)!=null&&$.length?r(D):T(D))},E=()=>{const D=le(h);D&&(w.value||D.focus({preventScroll:!0}),u.value=D.clientHeight<D.scrollHeight)},q=e.computed(()=>({dp__overlay:!0})),V=e.computed(()=>({dp__overlay_col:!0})),Y=e.computed(()=>n.items.map(D=>D.filter($=>$).map($=>{var Q,k,M;const I=n.disabledValues.some(A=>A===$.value)||j($.value),F=(Q=n.multiModelValue)!=null&&Q.length?(k=n.multiModelValue)==null?void 0:k.some(A=>x(A,i.setYear(n.monthPicker?i.setMonth(new Date,$.value):new Date,n.monthPicker?n.year:$.value))):n.skipActive?!1:$.value===n.modelValue;return{...$,className:{dp__overlay_cell_active:F,dp__overlay_cell:!F,dp__overlay_cell_disabled:I,dp__overlay_cell_active_disabled:I&&F,dp__overlay_cell_pad:!0,dp__cell_in_between:(M=n.multiModelValue)!=null&&M.length?v($.value):!1}}}))),U=e.computed(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:u.value,dp__button_bottom:g})),Z=e.computed(()=>{var D,$;return{dp__overlay_container:!0,dp__container_flex:((D=n.items)==null?void 0:D.length)<=6,dp__container_block:(($=n.items)==null?void 0:$.length)>6}}),j=D=>{const $=n.maxValue||n.maxValue===0,I=n.minValue||n.minValue===0;return!$&&!I?!1:$&&I?+D>+n.maxValue||+D<+n.minValue:$?+D>+n.maxValue:I?+D<+n.minValue:!1},z=()=>{const D=le(f);if(D){const $=le(h);$&&($.scrollTop=D.offsetTop-$.offsetTop-($.getBoundingClientRect().height/2-D.getBoundingClientRect().height))}},b=D=>{!n.disabledValues.some($=>$===D)&&!j(D)&&(l("update:modelValue",D),l("selected"))},v=D=>{const $=n.monthPicker?n.year:D;return It(n.multiModelValue,i.setYear(n.monthPicker?i.setMonth(new Date,O.value||0):new Date,n.monthPicker?$:O.value||$),i.setYear(n.monthPicker?i.setMonth(new Date,D):new Date,$))},o=()=>{l("toggle"),l("reset-flow")},p=()=>{n.escClose&&o()},B=(D,$,I,F)=>{var Q,k;if(D&&($.value===+n.modelValue&&!n.disabledValues.includes($.value)&&(f.value=D),P!=null&&P.value)){Array.isArray(y.value[I])?y.value[I][F]=D:y.value[I]=[D];const M=(Q=n.headerRefs)!=null&&Q.length?[n.headerRefs].concat(y.value):y.value.concat([n.skipButtonRef?[]:[_.value]]);X(M,(k=n.headerRefs)!=null&&k.length?"monthPicker":"selectionGrid")}};return a({focusGrid:E}),(D,$)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:h,class:e.normalizeClass(e.unref(q)),role:"dialog",tabindex:"0",onKeydown:e.withKeys(p,["esc"])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(Z)),role:"grid"},[e.createElementVNode("div",Yl,[e.renderSlot(D.$slots,"header")]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Y),(I,F)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__overlay_row",key:e.unref(fl)(F),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I,(Q,k)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(e.unref(V)),key:Q.value,"aria-selected":Q.value===t.modelValue&&!t.disabledValues.includes(Q.value),"aria-disabled":Q.className.dp__overlay_cell_disabled,ref_for:!0,ref:M=>B(M,Q,F,k),tabindex:"0",onClick:M=>b(Q.value),onKeydown:[e.withKeys(M=>b(Q.value),["enter"]),e.withKeys(M=>b(Q.value),["space"])],onMouseover:M=>O.value=Q.value},[e.createElementVNode("div",{class:e.normalizeClass(Q.className)},[D.$slots.item?e.renderSlot(D.$slots,"item",{key:0,item:Q}):e.createCommentVNode("",!0),D.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(Q.text),1)],64))],2)],42,Kl))),128))]))),128)),D.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,role:"button","aria-label":e.unref(N).toggleOverlay,class:e.normalizeClass(e.unref(U)),tabindex:"0",ref_key:"toggleButton",ref:_,onClick:o,onKeydown:e.withKeys(o,["enter"])},[e.renderSlot(D.$slots,"button-icon")],42,Hl)),[[e.vShow,!e.unref(H)(t.type)]]):e.createCommentVNode("",!0)],2)],42,Il))}}),Qe=()=>{const t=e.inject(Xe);return{transitionName:e.computed(()=>l=>t!=null&&t.value?l?t.value.open:t.value.close:""),showTransition:!!(t!=null&&t.value)}},Ll=["aria-label"],zl={compatConfig:{MODE:3}},en=e.defineComponent({...zl,__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null}},emits:["update:model-value","toggle","setRef"],setup(t,{emit:a}){const{transitionName:l,showTransition:n}=Qe(),u=e.ref(null);return e.onMounted(()=>a("setRef",u)),(f,h)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{class:"dp__month_year_select",onClick:h[0]||(h[0]=y=>f.$emit("toggle")),onKeydown:[h[1]||(h[1]=e.withKeys(y=>f.$emit("toggle"),["enter"])),h[2]||(h[2]=e.withKeys(y=>f.$emit("toggle"),["space"]))],role:"button","aria-label":t.ariaLabel,tabindex:"0",ref_key:"elRef",ref:u},[e.renderSlot(f.$slots,"default")],40,Ll),e.createVNode(e.Transition,{name:e.unref(l)(t.showSelectionGrid),css:e.unref(n)},{default:e.withCtx(()=>[t.showSelectionGrid?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:0},{modelValue:t.modelValue,items:t.items,disabledValues:t.disabledValues,minValue:t.minValue,maxValue:t.maxValue,escClose:t.escClose,type:t.type},{"header-refs":[],"onUpdate:modelValue":h[3]||(h[3]=y=>f.$emit("update:model-value",y)),onToggle:h[4]||(h[4]=y=>f.$emit("toggle"))}),e.createSlots({"button-icon":e.withCtx(()=>[f.$slots["calendar-icon"]?e.renderSlot(f.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))]),_:2},[f.$slots[t.slotName]?{name:"item",fn:e.withCtx(({item:y})=>[e.renderSlot(f.$slots,t.slotName,{item:y})]),key:"0"}:void 0]),1040)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],64))}}),Fe=(t,a,l)=>[i.set(new Date(t),{date:1}),i.set(new Date,{month:a,year:l,date:1})],bt=(t,a,l)=>ae(...Fe(t,a,l))||x(...Fe(t,a,l)),Mt=(t,a,l)=>re(...Fe(t,a,l))||x(...Fe(t,a,l)),tn=(t,a,l,n,u,f)=>{let h=!1;return f?t&&a?(a&&u&&Mt(a,l,n)&&(h=!0),t&&!u&&bt(t,l,n)&&(h=!0)):(t&&bt(t,l,n)||a&&Mt(a,l,n))&&(h=!0):h=!0,h},jl=(t,a)=>{const l=(y,g)=>{let w=y;return t.filters.months.includes(i.getMonth(w))?(w=g?i.addMonths(y,1):i.subMonths(y,1),l(w,g)):w},n=(y,g)=>{let w=y;return t.filters.years.includes(i.getYear(w))?(w=g?i.addYears(y,1):i.subYears(y,1),n(w,g)):w},u=y=>{const g=i.set(new Date,{month:t.month,year:t.year});let w=y?i.addMonths(g,1):i.subMonths(g,1),N=i.getMonth(w),P=i.getYear(w);t.filters.months.includes(N)&&(w=l(w,y),N=i.getMonth(w),P=i.getYear(w)),t.filters.years.includes(P)&&(w=n(w,y),P=i.getYear(w)),tn(t.minDate,t.maxDate,N,P,y,t.preventMinMaxNavigation)&&f(N,P)},f=(y,g)=>{a("update-month-year",{month:y,year:g})},h=e.computed(()=>y=>{if(!t.preventMinMaxNavigation||y&&!t.maxDate||!y&&!t.minDate)return!1;const g=i.set(new Date,{month:t.month,year:t.year}),w=y?i.addMonths(g,1):i.subMonths(g,1),N=[i.getMonth(w),i.getYear(w)];return y?!Mt(t.maxDate,...N):!bt(t.minDate,...N)});return{handleMonthYearChange:u,isDisabled:h}},Wl={class:"dp__month_year_row"},Ul={class:"dp__month_picker_header"},Gl=["aria-label"],Xl=["aria-label","onKeydown"],ql=["aria-label"],Jl={compatConfig:{MODE:3}},Zl=e.defineComponent({...Jl,__name:"MonthYearPicker",props:{...Jt,...pt,preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},multiCalendarsSolo:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0}},emits:["update-month-year","monthYearSelect","mount","reset-flow","overlay-closed"],setup(t,{expose:a,emit:l}){const n=t,{transitionName:u,showTransition:f}=Qe(),{buildMatrix:h}=be(),y=e.ref(!1),g=e.ref(!1),w=e.ref([null,null,null,null]),N=e.ref(null),P=e.ref(null),O=e.ref(null),_=e.inject(we),H=e.inject(Ce),{handleMonthYearChange:T,isDisabled:X}=jl(n,l);e.onMounted(()=>{l("mount")});const r=k=>({get:()=>n[k],set:M=>{const A=k==="month"?"year":"month";l("update-month-year",{[k]:M,[A]:n[A]}),l("monthYearSelect",k==="year"),k==="month"?D(!0):$(!0)}}),c=e.computed(r("month")),E=e.computed(r("year")),q=e.computed(()=>k=>{const M=k==="month";return{showSelectionGrid:(M?y:g).value,items:(M?v:o).value,disabledValues:n.filters[M?"months":"years"],minValue:(M?U:V).value,maxValue:(M?Z:Y).value,headerRefs:M&&n.monthPicker?[N.value,P.value,O.value]:[],escClose:n.escClose}}),V=e.computed(()=>n.minDate?i.getYear(new Date(n.minDate)):null),Y=e.computed(()=>n.maxDate?i.getYear(new Date(n.maxDate)):null),U=e.computed(()=>{if(n.minDate&&V.value){if(V.value>n.year)return 12;if(V.value===n.year)return i.getMonth(new Date(n.minDate))}return null}),Z=e.computed(()=>n.maxDate&&Y.value?Y.value<n.year?-1:Y.value===n.year?i.getMonth(new Date(n.maxDate)):null:null),j=e.computed(()=>n.range&&n.internalModelValue&&(n.monthPicker||n.yearPicker)?n.internalModelValue:[]),z=(k,M=!1)=>{const A=[];for(let de=0;de<k.length;de+=3){const ye=[k[de],k[de+1],k[de+2]];A.push(M?ye.reverse():ye)}return M?A.reverse():A},b=e.computed(()=>{const k=n.months.find(M=>M.value===n.month);return k||{text:"",value:0}}),v=e.computed(()=>z(n.months)),o=e.computed(()=>z(n.years,n.reverseYears)),p=e.computed(()=>n.multiCalendars?n.multiCalendarsSolo?!0:n.instance===0:!0),B=e.computed(()=>n.multiCalendars?n.multiCalendarsSolo?!0:n.instance===n.multiCalendars-1:!0),D=(k=!1)=>{I(k),y.value=!y.value,y.value||l("overlay-closed")},$=(k=!1)=>{I(k),g.value=!g.value,g.value||l("overlay-closed")},I=k=>{k||l("reset-flow")},F=(k=!1)=>{l("update-month-year",{year:k?n.year+1:n.year-1,month:n.month,fromNav:!0})},Q=(k,M)=>{H!=null&&H.value&&(w.value[M]=le(k),h(w.value,"monthYear"))};return a({toggleMonthPicker:D,toggleYearPicker:$}),(k,M)=>(e.openBlock(),e.createElementBlock("div",Wl,[!k.monthPicker&&!t.yearPicker?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.unref(p)&&!k.vertical?(e.openBlock(),e.createBlock(Ct,{key:0,"aria-label":e.unref(_).prevMonth,disabled:e.unref(X)(!1),onActivate:M[0]||(M[0]=A=>e.unref(T)(!1)),onSetRef:M[1]||(M[1]=A=>Q(A,0))},{default:e.withCtx(()=>[k.$slots["arrow-left"]?e.renderSlot(k.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),k.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(en,e.mergeProps({"aria-label":e.unref(_).openMonthsOverlay,"slot-name":"month-overlay",modelValue:e.unref(c),"onUpdate:modelValue":M[2]||(M[2]=A=>e.isRef(c)?c.value=A:null)},e.unref(q)("month"),{onToggle:D,onSetRef:M[3]||(M[3]=A=>Q(A,1)),type:"month"}),e.createSlots({default:e.withCtx(()=>[k.$slots.month?e.renderSlot(k.$slots,"month",e.normalizeProps(e.mergeProps({key:0},e.unref(b)))):e.createCommentVNode("",!0),k.$slots.month?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(b).text),1)],64))]),_:2},[k.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(k.$slots,"calendar-icon")]),key:"0"}:void 0,k.$slots["month-overlay"]?{name:"month-overlay",fn:e.withCtx(({item:A})=>[e.renderSlot(k.$slots,"month-overlay",{text:A.text,value:A.value})]),key:"1"}:void 0]),1040,["aria-label","modelValue"]),e.createVNode(en,e.mergeProps({"aria-label":e.unref(_).openYearsOverlay,"slot-name":"year-overlay",modelValue:e.unref(E),"onUpdate:modelValue":M[4]||(M[4]=A=>e.isRef(E)?E.value=A:null)},e.unref(q)("year"),{onToggle:$,onSetRef:M[5]||(M[5]=A=>Q(A,2)),type:"year"}),e.createSlots({default:e.withCtx(()=>[k.$slots.year?e.renderSlot(k.$slots,"year",{key:0,year:k.year}):e.createCommentVNode("",!0),k.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(k.year),1)],64))]),_:2},[k.$slots["calendar-icon"]?{name:"calendar-icon",fn:e.withCtx(()=>[e.renderSlot(k.$slots,"calendar-icon")]),key:"0"}:void 0,k.$slots["year-overlay"]?{name:"year-overlay",fn:e.withCtx(({item:A})=>[e.renderSlot(k.$slots,"year-overlay",{text:A.text,value:A.value})]),key:"1"}:void 0]),1040,["aria-label","modelValue"]),e.unref(p)&&k.vertical?(e.openBlock(),e.createBlock(Ct,{key:1,"aria-label":e.unref(_).prevMonth,disabled:e.unref(X)(!1),onActivate:M[6]||(M[6]=A=>e.unref(T)(!1))},{default:e.withCtx(()=>[k.$slots["arrow-up"]?e.renderSlot(k.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),k.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Pt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(B)?(e.openBlock(),e.createBlock(Ct,{key:2,disabled:e.unref(X)(!0),"aria-label":e.unref(_).nextMonth,onActivate:M[7]||(M[7]=A=>e.unref(T)(!0)),ref:"rightIcon",onSetRef:M[8]||(M[8]=A=>Q(A,3))},{default:e.withCtx(()=>[k.$slots[k.vertical?"arrow-down":"arrow-right"]?e.renderSlot(k.$slots,k.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),k.$slots[k.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(k.vertical?e.unref(At):e.unref(Vt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),k.monthPicker?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:1},e.unref(q)("month"),{"skip-active":n.range,year:k.year,"multi-model-value":e.unref(j),"month-picker":"",modelValue:e.unref(c),"onUpdate:modelValue":M[15]||(M[15]=A=>e.isRef(c)?c.value=A:null),onToggle:D,onSelected:M[16]||(M[16]=A=>k.$emit("overlay-closed"))}),e.createSlots({header:e.withCtx(()=>[e.createElementVNode("div",Ul,[e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:N,onClick:M[9]||(M[9]=A=>F(!1)),onKeydown:M[10]||(M[10]=e.withKeys(A=>F(!1),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":e.unref(_).prevMonth},[k.$slots["arrow-left"]?e.renderSlot(k.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),k.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref($t),{key:1}))],8,Gl)],544),e.createElementVNode("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:P,"aria-label":e.unref(_).openYearsOverlay,tabindex:"0",onClick:$,onKeydown:e.withKeys($,["enter"])},[k.$slots.year?e.renderSlot(k.$slots,"year",{key:0,year:k.year}):e.createCommentVNode("",!0),k.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(k.year),1)],64))],40,Xl),e.createElementVNode("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:O,onClick:M[11]||(M[11]=A=>F(!0)),onKeydown:M[12]||(M[12]=e.withKeys(A=>F(!0),["enter"]))},[e.createElementVNode("div",{class:"dp__inner_nav",role:"button","aria-label":e.unref(_).nextMonth},[k.$slots["arrow-right"]?e.renderSlot(k.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),k.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Vt),{key:1}))],8,ql)],544)]),e.createVNode(e.Transition,{name:e.unref(u)(g.value),css:e.unref(f)},{default:e.withCtx(()=>[g.value?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:0},e.unref(q)("year"),{modelValue:e.unref(E),"onUpdate:modelValue":M[13]||(M[13]=A=>e.isRef(E)?E.value=A:null),onToggle:$,onSelected:M[14]||(M[14]=A=>k.$emit("overlay-closed"))}),e.createSlots({"button-icon":e.withCtx(()=>[k.$slots["calendar-icon"]?e.renderSlot(k.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),k.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))]),_:2},[k.$slots["year-overlay"]?{name:"item",fn:e.withCtx(({item:A})=>[e.renderSlot(k.$slots,"year-overlay",{text:A.text,value:A.value})]),key:"0"}:void 0]),1040,["modelValue"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:2},[k.$slots["month-overlay"]?{name:"item",fn:e.withCtx(({item:A})=>[e.renderSlot(k.$slots,"month-overlay",{text:A.text,value:A.value})]),key:"0"}:void 0]),1040,["skip-active","year","multi-model-value","modelValue"])):e.createCommentVNode("",!0),t.yearPicker?(e.openBlock(),e.createBlock(Ye,e.mergeProps({key:2},e.unref(q)("year"),{modelValue:e.unref(E),"onUpdate:modelValue":M[17]||(M[17]=A=>e.isRef(E)?E.value=A:null),"multi-model-value":e.unref(j),"skip-active":n.range,"skip-button-ref":"","year-picker":"",onToggle:$,onSelected:M[18]||(M[18]=A=>k.$emit("overlay-closed"))}),e.createSlots({_:2},[k.$slots["year-overlay"]?{name:"item",fn:e.withCtx(({item:A})=>[e.renderSlot(k.$slots,"year-overlay",{text:A.text,value:A.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):e.createCommentVNode("",!0)]))}}),Ql={key:0,class:"dp__time_input"},Fl=["aria-label","onKeydown","onClick"],xl=["aria-label","onKeydown","onClick"],ea=["aria-label","onKeydown","onClick"],ta={key:0},na=["aria-label","onKeydown"],la={compatConfig:{MODE:3}},aa=e.defineComponent({...la,__name:"TimeInput",props:{...Lt,hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},filters:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},escClose:{type:Boolean,default:!0}},emits:["setHours","setMinutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed"],setup(t,{expose:a,emit:l}){const n=t,u=e.reactive({hours:!1,minutes:!1,seconds:!1}),f=e.ref("AM"),h=e.ref(null),y=e.inject(we),g=e.inject(Ce),w=e.ref([]),{transitionName:N,showTransition:P}=Qe(),{setTimePickerElements:O,setTimePickerBackRef:_}=be();e.onMounted(()=>{l("mounted")});const H=e.computed(()=>({dp__time_col:!0,dp__time_col_reg:!n.enableSeconds&&n.is24,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),T=e.computed(()=>{const b=[{type:"hours"},"separator",{type:"minutes"}];return n.enableSeconds?b.concat(["separator",{type:"seconds"}]):b}),X=e.computed(()=>T.value.filter(b=>typeof b!="string")),r=e.computed(()=>b=>{if(b==="hours"){const v=Y(n.hours);return{text:v<10?`0${v}`:`${v}`,value:v}}return{text:n[b]<10?`0${n[b]}`:`${n[b]}`,value:n[b]}}),c=b=>{const v=b==="hours"?n.is24?24:12:60,o=+n[`${b}GridIncrement`],p=b==="hours"&&!n.is24?o:0,B=[];for(let D=p;D<v;D+=o)B.push({value:D,text:D<10?`0${D}`:`${D}`});return b==="hours"&&!n.is24&&B.push({value:0,text:"12"}),ol(B)},E=b=>n[`no${b[0].toUpperCase()+b.slice(1)}Overlay`],q=b=>{E(b)||(u[b]=!u[b],u[b]||l("overlay-closed"))},V=(b,v=!0)=>{const o=b==="hours"?i.getHours:b==="minutes"?i.getMinutes:i.getSeconds,p=v?Hn:vn;l(`update:${b}`,o(p({[b]:+n[b]},{[b]:+n[`${b}Increment`]})))},Y=b=>n.is24?b:(b>=12?f.value="PM":f.value="AM",dl(b)),U=()=>{f.value==="PM"?(f.value="AM",l("update:hours",n.hours-12)):(f.value="PM",l("update:hours",n.hours+12))},Z=b=>{u[b]=!0},j=(b,v,o)=>{if(b&&(g==null?void 0:g.value)){Array.isArray(w.value[v])?w.value[v][o]=b:w.value[v]=[b];const p=w.value.reduce((B,D)=>D.map(($,I)=>[...B[I]||[],D[I]]),[]);_(n.closeTimePickerBtn),h.value&&(p[1]=p[1].concat(h.value)),O(p,n.order)}},z=(b,v)=>b==="hours"&&!n.is24?l(`update:${b}`,f.value==="PM"?v+12:v):l(`update:${b}`,v);return a({openChildCmp:Z}),(b,v)=>t.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ql,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(T),(o,p)=>(e.openBlock(),e.createElementBlock("div",{key:p,class:e.normalizeClass(e.unref(H))},[o==="separator"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":e.unref(y).incrementValue(o.type),tabindex:"0",onKeydown:[e.withKeys(B=>V(o.type),["enter"]),e.withKeys(B=>V(o.type),["space"])],onClick:B=>V(o.type),ref_for:!0,ref:B=>j(B,p,0)},[b.$slots["arrow-up"]?e.renderSlot(b.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),b.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Pt),{key:1}))],40,Fl),e.createElementVNode("div",{role:"button","aria-label":e.unref(y).openTpOverlay(o.type),class:e.normalizeClass(E(o.type)?"":"dp__time_display"),tabindex:"0",onKeydown:[e.withKeys(B=>q(o.type),["enter"]),e.withKeys(B=>q(o.type),["space"])],onClick:B=>q(o.type),ref_for:!0,ref:B=>j(B,p,1)},[b.$slots[o.type]?e.renderSlot(b.$slots,o.type,{key:0,text:e.unref(r)(o.type).text,value:e.unref(r)(o.type).value}):e.createCommentVNode("",!0),b.$slots[o.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(r)(o.type).text),1)],64))],42,xl),e.createElementVNode("div",{class:"dp__inc_dec_button",role:"button","aria-label":e.unref(y).decrementValue(o.type),tabindex:"0",onKeydown:[e.withKeys(B=>V(o.type,!1),["enter"]),e.withKeys(B=>V(o.type,!1),["space"])],onClick:B=>V(o.type,!1),ref_for:!0,ref:B=>j(B,p,2)},[b.$slots["arrow-down"]?e.renderSlot(b.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),b.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(At),{key:1}))],40,ea)],64))],2))),128)),b.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ta,[b.$slots["am-pm-button"]?e.renderSlot(b.$slots,"am-pm-button",{key:0,toggle:U,value:f.value}):e.createCommentVNode("",!0),b.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:h,type:"button",class:"dp__pm_am_button",role:"button","aria-label":e.unref(y).amPmButton,tabindex:"0",onClick:U,onKeydown:[e.withKeys(e.withModifiers(U,["prevent"]),["enter"]),e.withKeys(e.withModifiers(U,["prevent"]),["space"])]},e.toDisplayString(f.value),41,na))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(X),(o,p)=>(e.openBlock(),e.createBlock(e.Transition,{key:p,name:e.unref(N)(u[o.type]),css:e.unref(P)},{default:e.withCtx(()=>[u[o.type]?(e.openBlock(),e.createBlock(Ye,{key:0,items:c(o.type),"disabled-values":t.filters.times[o.type],"esc-close":t.escClose,"onUpdate:modelValue":B=>z(o.type,B),onSelected:B=>q(o.type),onToggle:B=>q(o.type),onResetFlow:v[0]||(v[0]=B=>b.$emit("reset-flow")),type:o.type},e.createSlots({"button-icon":e.withCtx(()=>[b.$slots["clock-icon"]?e.renderSlot(b.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),b.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Nt),{key:1}))]),_:2},[b.$slots[`${o.type}-overlay`]?{name:"item",fn:e.withCtx(({item:B})=>[e.renderSlot(b.$slots,`${o.type}-overlay`,{text:B.text,value:B.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","onUpdate:modelValue","onSelected","onToggle","type"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}),Ee=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar"]},{name:"arrow-down",use:["time","calendar"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay",use:["calendar","month-year"]},{name:"year-overlay",use:["calendar","month-year"]},{name:"hours-overlay",use:["calendar","time"]},{name:"minutes-overlay",use:["calendar","time"]},{name:"seconds-overlay",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-select",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"now-button",use:[]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]}],ra=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],oa={all:()=>Ee,monthYear:()=>Ee.filter(t=>t.use.includes("month-year")),input:()=>ra,timePicker:()=>Ee.filter(t=>t.use.includes("time")),action:()=>Ee.filter(t=>t.use.includes("action")),calendar:()=>Ee.filter(t=>t.use.includes("calendar")),menu:()=>Ee.filter(t=>t.use.includes("menu"))},Ve=(t,a,l)=>{const n=[];return oa[a]().forEach(u=>{t[u.name]&&n.push(u.name)}),l&&l.length&&l.forEach(u=>{u.slot&&n.push(u.slot)}),n},sa=["aria-label"],ia={class:"dp__overlay_container dp__container_flex"},ca={key:1,class:"dp__overlay_row"},da=["aria-label"],ua={compatConfig:{MODE:3}},ma=e.defineComponent({...ua,__name:"TimePicker",props:{...zt,range:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},customProps:{type:Object,default:null},modelAuto:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},escClose:{type:Boolean,default:!0}},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-closed"],setup(t,{expose:a,emit:l}){const n=t,u=e.useSlots(),f=e.ref(null),h=e.ref(null),y=e.inject(dt,!1),g=e.ref([]),w=e.ref(null),N=e.inject(we),P=e.inject(Ce),O=e.inject(ut),{transitionName:_,showTransition:H}=Qe(),{buildMatrix:T,setTimePicker:X}=be();e.onMounted(()=>{l("mount"),!n.timePicker&&(P==null?void 0:P.value)?T([le(f.value)],"time"):X(!0,n.timePicker)});const r=e.computed(()=>n.range&&n.modelAuto?xt(n.internalModelValue):!0),c=e.ref(!1),E=o=>({hours:Array.isArray(n.hours)?n.hours[o]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[o]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[o]:n.seconds}),q=e.computed(()=>{const o=[];if(n.range)for(let p=0;p<2;p++)o.push(E(p));else o.push(E(0));return o}),V=(o,p=!1,B="")=>{p||l("reset-flow"),c.value=o,P!=null&&P.value&&(X(o),o||l("overlay-closed")),e.nextTick(()=>{B!==""&&g.value[0]&&g.value[0].openChildCmp(B)})},Y=e.computed(()=>({dp__button:!0,dp__button_bottom:y})),U=Ve(u,"timePicker"),Z=(o,p,B)=>n.range?p===0?[o,q.value[1][B]]:[q.value[0][B],o]:o,j=o=>{l("update:hours",o)},z=o=>{l("update:minutes",o)},b=o=>{l("update:seconds",o)},v=()=>{w.value&&(P==null?void 0:P.value)&&w.value.focus({preventScroll:!0})};return a({toggleTimePicker:V}),(o,p)=>(e.openBlock(),e.createElementBlock("div",null,[o.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(Y)),role:"button","aria-label":e.unref(N).openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:f,onKeydown:[p[0]||(p[0]=e.withKeys(B=>V(!0),["enter"])),p[1]||(p[1]=e.withKeys(B=>V(!0),["space"]))],onClick:p[2]||(p[2]=B=>V(!0))},[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Nt),{key:1}))],42,sa)),[[e.vShow,!e.unref(O)("time")]]),e.createVNode(e.Transition,{name:e.unref(_)(c.value),css:e.unref(H)},{default:e.withCtx(()=>[c.value||o.timePicker?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__overlay",ref_key:"overlayRef",ref:w,tabindex:"0"},[e.createElementVNode("div",ia,[o.$slots["time-picker-overlay"]?e.renderSlot(o.$slots,"time-picker-overlay",{key:0,range:t.range,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:j,setMinutes:z,setSeconds:b}):e.createCommentVNode("",!0),o.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ca,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(q),(B,D)=>e.withDirectives((e.openBlock(),e.createBlock(aa,e.mergeProps({key:D,disabled:D===0?o.fixedStart:o.fixedEnd,hours:B.hours,minutes:B.minutes,seconds:B.seconds,filters:t.filters,ref_for:!0,ref_key:"timeInputRefs",ref:g},{is24:o.is24,hoursGridIncrement:o.hoursGridIncrement,minutesGridIncrement:o.minutesGridIncrement,secondsGridIncrement:o.secondsGridIncrement,hoursIncrement:o.hoursIncrement,minutesIncrement:o.minutesIncrement,secondsIncrement:o.secondsIncrement,filters:t.filters,noHoursOverlay:o.noHoursOverlay,noMinutesOverlay:o.noMinutesOverlay,noSecondsOverlay:o.noSecondsOverlay,enableSeconds:o.enableSeconds,closeTimePickerBtn:h.value,escClose:t.escClose,order:D},{"onUpdate:hours":$=>j(Z($,D,"hours")),"onUpdate:minutes":$=>z(Z($,D,"minutes")),"onUpdate:seconds":$=>b(Z($,D,"seconds")),onMounted:v,onOverlayClosed:v}),e.createSlots({_:2},[e.renderList(e.unref(U),($,I)=>({name:$,fn:e.withCtx(F=>[e.renderSlot(o.$slots,$,e.normalizeProps(e.guardReactiveProps(F)))])}))]),1040,["disabled","hours","minutes","seconds","filters","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,D===0?!0:e.unref(r)]])),128))])),o.timePicker?e.createCommentVNode("",!0):e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:2,ref_key:"closeTimePickerBtn",ref:h,class:e.normalizeClass(e.unref(Y)),role:"button","aria-label":e.unref(N).closeTimePicker,tabindex:"0",onKeydown:[p[3]||(p[3]=e.withKeys(B=>V(!1),["enter"])),p[4]||(p[4]=e.withKeys(B=>V(!1),["space"]))],onClick:p[5]||(p[5]=B=>V(!1))},[o.$slots["calendar-icon"]?e.renderSlot(o.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(We),{key:1}))],42,da)),[[e.vShow,!e.unref(O)("time")]])])],512)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]))}}),fa=(t,a,l,n)=>{const u=e.ref(new Date),f=e.ref(),h=e.ref([{month:i.getMonth(new Date),year:i.getYear(new Date)}]),y=e.ref(t.range?[i.getHours(new Date),i.getHours(new Date)]:i.getHours(new Date)),g=e.ref(t.range?[i.getMinutes(new Date),i.getMinutes(new Date)]:i.getMinutes(new Date)),w=e.ref(t.range?[0,0]:0);e.watch(h,()=>{setTimeout(()=>{t.openOnTop&&a("dpOpen")},0)},{deep:!0}),e.onMounted(()=>{j(!0),r.value||(t.startDate&&(h.value[0].month=i.getMonth(new Date(t.startDate)),h.value[0].year=i.getYear(new Date(t.startDate)),t.multiCalendars&&M(0)),t.startTime&&X())});const N=e.computed(()=>s=>h.value[s]?h.value[s].month:0),P=e.computed(()=>s=>h.value[s]?h.value[s].year:0),O=(s,C,S)=>{h.value[s].month=C,h.value[s].year=S},_=(s,C)=>h.value[s].month=C,H=(s,C)=>h.value[s].year=C,T=(s=!0)=>t.enableSeconds?Array.isArray(w.value)?s?w.value[0]:w.value[1]:w.value:0,X=()=>{t.startTime&&(nl(t.startTime)?(y.value=[+t.startTime[0].hours,+t.startTime[1].hours],g.value=[+t.startTime[0].minutes,+t.startTime[1].minutes],t.enableSeconds&&(w.value=[+t.startTime[0].seconds,+t.startTime[1].seconds])):(y.value=+t.startTime.hours,g.value=+t.startTime.minutes,t.enableSeconds&&(w.value=+t.startTime.seconds)))},r=e.computed({get:()=>t.internalModelValue,set:s=>{!t.readonly&&!t.disabled&&a("update:internalModelValue",s)}});e.watch(r,()=>j());const c=s=>{const{validate:C}=Kt(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,t.filters,t.disabledWeekDays,t.yearRange);return!C(s)},E=s=>!r.value||t.hideOffsetDates&&!s.current?!1:t.range?t.modelAuto&&Array.isArray(r.value)?x(s.value,r.value[0]?r.value[0]:u.value):!1:t.multiDates&&Array.isArray(r.value)?r.value.some(C=>x(C,s.value)):x(s.value,r.value?r.value:u.value),q=s=>It(r.value,f.value,s.value),V=(s,C=!1)=>{if((!t.multiCalendars||!t.multiStatic||C)&&(_(0,i.getMonth(s)),H(0,i.getYear(s))),t.multiCalendars)for(let S=1;S<=t.multiCalendars;S++){const W=i.set(new Date,{month:N.value(S-1),year:P.value(S-1)}),ce=i.add(W,{months:1});h.value[S]={month:i.getMonth(ce),year:i.getYear(ce)}}},Y=()=>{if(Array.isArray(r.value)&&r.value.length===2){const s=new Date(r.value[1]?r.value[1]:i.addMonths(r.value[0],1)),[C,S]=[i.getMonth(r.value[0]),i.getYear(r.value[0])],[W,ce]=[i.getMonth(r.value[1]),i.getYear(r.value[1])];(C!==W||C===W&&S!==ce)&&t.multiCalendarsSolo&&(_(1,i.getMonth(s)),H(1,i.getYear(s)))}},U=s=>{V(s),y.value=i.getHours(s),g.value=i.getMinutes(s),w.value=i.getSeconds(s)},Z=()=>Array.isArray(r.value)&&r.value.length?r.value[r.value.length-1]:null,j=(s=!1)=>{if(r.value)if(Ie(r.value)){if(r.value.length===2&&!t.multiDates)V(r.value[0],s),y.value=[i.getHours(r.value[0]),r.value[1]?i.getHours(r.value[1]):i.getHours(new Date)],g.value=[i.getMinutes(r.value[0]),r.value[1]?i.getMinutes(r.value[1]):i.getMinutes(new Date)],w.value=[i.getSeconds(r.value[0]),r.value[1]?i.getSeconds(r.value[1]):i.getSeconds(new Date)];else if(Ie(r.value)&&t.multiDates){const C=r.value[r.value.length-1];C&&U(C)}t.multiCalendars&&t.multiCalendarsSolo&&Y()}else U(r.value);else t.timePicker?(X(),t.range?me(y.value)&&me(g.value)&&(r.value=[se(new Date,y.value[0],g.value[0],T()),se(new Date,y.value[1],g.value[1],T(!1))]):r.value=se(new Date,y.value,g.value,T())):t.monthPicker&&!t.range?r.value=$e(new Date,N.value(0),P.value(0)):t.multiCalendars?V(new Date):t.yearPicker&&!t.range&&(r.value=new Date)},z=s=>{const C=i.getMonth(new Date(s)),S=i.getYear(new Date(s));if(_(0,C),H(0,S),t.multiCalendars>0)for(let W=1;W<t.multiCalendars;W++){const ce=Kn(i.set(new Date(s),{year:N.value(W-1),month:P.value(W-1)}));_(W,ce.month),H(W,ce.year)}},b=s=>{if(r.value&&Array.isArray(r.value))if(r.value.some(C=>x(s,C))){const C=r.value.filter(S=>!x(S,s));r.value=C.length?C:null}else(t.multiDatesLimit&&+t.multiDatesLimit>r.value.length||!t.multiDatesLimit)&&r.value.push(s);else r.value=[s]},v=s=>{if(Array.isArray(r.value)&&r.value[0]){const C=i.differenceInCalendarDays(s,r.value[0]),S=re(r.value[0],s)?s:r.value[0],W=re(s,r.value[0])?s:r.value[0],Pe=i.eachDayOfInterval({start:S,end:W}).filter(Oe=>c(Oe)).length,ue=Math.abs(C<0?C+1:C-1)-Pe;if(t.minRange&&t.maxRange)return ue>=+t.minRange&&ue<=+t.maxRange;if(t.minRange)return ue>=+t.minRange;if(t.maxRange)return ue<=+t.maxRange}return!0},o=s=>Array.isArray(r.value)&&r.value.length===2?t.fixedStart&&(re(s,r.value[0])||x(s,r.value[0]))?[r.value[0],s]:t.fixedEnd&&(ae(s,r.value[1])||x(s,r.value[1]))?[s,r.value[1]]:r.value:[],p=()=>{t.autoApply&&a("autoApply")},B=s=>!i.eachDayOfInterval({start:s[0],end:s[1]}).some(S=>c(S)),D=(s,C=!1)=>{if(!c(s.value)&&!(!s.current&&t.hideOffsetDates)){if(t.weekPicker)return r.value=Ge(new Date(s.value),+t.weekStart),p();if(!t.range&&!me(y.value)&&!me(g.value)){const S=se(new Date(s.value),y.value,g.value,T());t.multiDates?b(S):r.value=S,l(),p()}else if(me(y.value)&&me(g.value)&&!t.multiDates){let S=r.value?r.value.slice():[];if(S.length===2&&!(t.fixedStart||t.fixedEnd)&&(S=[]),t.autoRange){const W=[new Date(s.value),i.addDays(new Date(s.value),+t.autoRange)];B(W)&&(C&&z(s.value),S=W)}else t.fixedStart||t.fixedEnd?S=o(new Date(s.value)):S[0]?v(new Date(s.value))&&(ae(new Date(s.value),new Date(S[0]))?S.unshift(new Date(s.value)):S[1]=new Date(s.value)):S[0]=new Date(s.value);S.length&&(S[0]&&!S[1]?S[0]=se(S[0],y.value[0],g.value[0],T()):(S[0]=se(S[0],y.value[0],g.value[0],T()),S[1]=se(S[1],y.value[1],g.value[1],T(!1)),l()),r.value=S,S[0]&&S[1]&&t.autoApply&&a("autoApply"))}}},$=s=>{const C=s.find(S=>S.current);return C?i.getISOWeek(C.value):""},I=s=>{!s.current&&t.hideOffsetDates||(f.value=s.value)},F=s=>{if(t.autoRange||t.weekPicker){if(f.value){if(t.hideOffsetDates&&!s.current)return!1;const C=i.addDays(f.value,+t.autoRange),S=Ge(new Date(f.value),+t.weekStart);return t.weekPicker?x(S[1],new Date(s.value)):x(C,new Date(s.value))}return!1}return!1},Q=s=>{if(t.autoRange||t.weekPicker){if(f.value){const C=i.addDays(f.value,+t.autoRange);if(t.hideOffsetDates&&!s.current)return!1;const S=Ge(new Date(f.value),+t.weekStart);return t.weekPicker?re(s.value,S[0])&&ae(s.value,S[1]):re(s.value,f.value)&&ae(s.value,C)}return!1}return!1},k=s=>{if(t.autoRange||t.weekPicker){if(f.value){if(t.hideOffsetDates&&!s.current)return!1;const C=Ge(new Date(f.value),+t.weekStart);return t.weekPicker?x(C[0],s.value):x(f.value,s.value)}return!1}return!1},M=s=>{for(let C=s-1;C>=0;C--){const S=i.subMonths(i.set(new Date,{month:N.value(C+1),year:P.value(C+1)}),1);O(C,i.getMonth(S),i.getYear(S))}for(let C=s+1;C<=t.multiCalendars-1;C++){const S=i.addMonths(i.set(new Date,{month:N.value(C-1),year:P.value(C-1)}),1);O(C,i.getMonth(S),i.getYear(S))}},A=s=>$e(new Date,N.value(s),P.value(s)),de=(s,C)=>{const S=t.monthPicker?N.value(s)!==C.month||!C.fromNav:P.value(s)!==C.year;if(_(s,C.month),H(s,C.year),t.multiCalendars&&!t.multiCalendarsSolo&&M(s),t.monthPicker||t.yearPicker)if(t.range){if(S){let W=r.value?r.value.slice():[];W.length===2&&W[1]!==null&&(W=[]),W.length?ae(A(s),W[0])?W.unshift(A(s)):W[1]=A(s):W=[A(s)],r.value=W}}else r.value=A(s);a("updateMonthYear",{instance:s,month:C.month,year:C.year}),et(t.multiCalendarsSolo?s:void 0)},ye=s=>se(s,y.value,g.value,T()),Me=s=>{Ie(s)&&Ie(r.value)&&me(y.value)&&me(g.value)?(s[0]&&r.value[0]&&(r.value[0]=se(s[0],y.value[0],g.value[0],T())),s[1]&&r.value[1]&&(r.value[1]=se(s[1],y.value[1],g.value[1],T(!1)))):t.multiDates&&Array.isArray(r.value)?r.value[r.value.length-1]=ye(s):!t.range&&!qe(s)&&(r.value=ye(s)),a("timeUpdate")},ge=(s,C=!0,S=!1)=>{const W=C?s:y.value,ce=!C&&!S?s:g.value,Pe=S?s:w.value;if(t.range&&qe(r.value)&&me(W)&&me(ce)&&me(Pe)&&!t.disableTimeRangeValidation){const ue=Be=>se(r.value[Be],W[Be],ce[Be],Pe[Be]),Oe=Be=>i.setMilliseconds(r.value[Be],0);if(x(r.value[0],r.value[1])&&(i.isAfter(ue(0),Oe(1))||i.isBefore(ue(1),Oe(0))))return}if(y.value=W,g.value=ce,w.value=Pe,r.value)if(t.multiDates){const ue=Z();ue&&Me(ue)}else Me(r.value);else t.timePicker&&Me(t.range?[new Date,new Date]:new Date);l()},he=()=>{f.value=null},Ke=s=>Zt(r.value,t.range)&&r.value[0]&&f.value?s?re(f.value,r.value[0]):ae(f.value,r.value[0]):!0,ke=(s,C=!0)=>(t.range||t.weekPicker)&&qe(r.value)?t.hideOffsetDates&&!s.current?!1:x(new Date(s.value),r.value[C?0:1]):t.range?x(new Date(s.value),r.value&&Array.isArray(r.value)?C?r.value[0]||null:r.value[1]:null)&&(C?!ae(f.value||null,Array.isArray(r.value)?r.value[0]:null):!0)||x(s.value,Array.isArray(r.value)?r.value[0]:null)&&Ke(C):!1,ie=(s,C)=>Array.isArray(t.internalModelValue)&&t.internalModelValue.length||t.weekPicker?!1:!s&&!E(C)&&!(!C.current&&t.hideOffsetDates)&&(t.range?!ke(C)&&!ke(C,!1):!0),He=(s,C,S)=>Array.isArray(t.internalModelValue)&&t.internalModelValue[0]&&t.internalModelValue.length===1?s?!1:S?re(t.internalModelValue[0],C.value):ae(t.internalModelValue[0],C.value):!1,ve=async(s=!1)=>{if(t.autoApply&&(t.monthPicker||t.yearPicker)){await e.nextTick();const C=t.monthPicker?s:!1;t.range?a("autoApply",C||!r.value||r.value.length===1):a("autoApply",C)}l()},De=(s,C)=>{const S=i.set(new Date,{month:N.value(C),year:P.value(C)}),W=s<0?i.addMonths(S,1):i.subMonths(S,1);tn(t.minDate,t.maxDate,i.getMonth(W),i.getYear(W),s<0,t.preventMinMaxNavigation)&&(O(C,i.getMonth(W),i.getYear(W)),t.multiCalendars&&!t.multiCalendarsSolo&&M(C),et())},Re=(s,C)=>{t.monthChangeOnScroll&&De(t.monthChangeOnScroll!=="inverse"?-s.deltaY:s.deltaY,C)},m=(s,C,S=!1)=>{t.monthChangeOnArrows&&t.vertical===S&&J(s,C)},J=(s,C)=>{De(s==="right"?-1:1,C)},te=s=>t.markers.find(C=>x(pe(s.value),pe(C.date))),Le=()=>{t.range?Zt(r.value,t.range)&&(r.value&&r.value[0]?r.value=ae(new Date,r.value[0])?[new Date,r.value[0]]:[r.value[0],new Date]:r.value=[new Date]):a("update:internalModelValue",new Date),t.autoApply&&a("selectDate")},Ne=(s,C)=>{C||s.length&&s.length<=2&&t.range&&(r.value=s.map(S=>new Date(S)),t.autoApply&&a("selectDate"))},et=s=>{s||s===0?n.value[s].triggerTransition(N.value(s),P.value(s)):n.value.forEach((C,S)=>C.triggerTransition(N.value(S),P.value(S)))};return{today:u,hours:y,minutes:g,seconds:w,month:N,year:P,monthYearSelect:ve,isDisabled:c,updateTime:ge,setHoverDate:I,getWeekNum:$,selectDate:D,rangeActive:q,isActiveDate:E,updateMonthYear:de,isHoverRangeEnd:F,isAutoRangeInBetween:Q,isAutoRangeStart:k,clearHoverDate:he,rangeActiveStartEnd:ke,handleScroll:Re,getMarker:te,handleArrow:m,handleSwipe:J,selectCurrentDate:Le,isHoverDate:ie,isHoverDateStartEnd:He,presetDateRange:Ne}},xe=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),nn=()=>({setMenuFocused:n=>{xe.menuFocused=n},getStore:()=>xe,setShiftKey:n=>{xe.shiftKeyInMenu!==n&&(xe.shiftKeyInMenu=n)}}),pa=["id","aria-label","onKeydown"],ya={key:0,class:"dp__sidebar_left"},ha={key:1,class:"dp__preset_ranges"},ga=["onClick"],ka={key:2,class:"dp__sidebar_right"},wa={key:3,class:"dp__now_wrap"},Ca={compatConfig:{MODE:3}},ba=e.defineComponent({...Ca,__name:"DatepickerMenu",props:{...Xt,...ft,...mt,internalModelValue:{type:[Date,Array],default:null},multiCalendars:{type:Number,default:0},openOnTop:{type:Boolean,default:!1}},emits:["update:internalModelValue","closePicker","selectDate","dpOpen","autoApply","timeUpdate","flow-step","updateMonthYear","invalid-select"],setup(t,{emit:a}){const l=t,n=e.useSlots(),u=e.ref(null),f=e.reactive({timePicker:!!(!l.enableTimePicker||l.timePicker||l.monthPicker),monthYearInput:!!l.timePicker,calendar:!1}),h=e.ref([]),y=e.ref([]),g=e.ref(null),w=e.ref(null),N=e.ref(0),P=e.ref(!1),O=e.ref(0),_=e.inject(Xe),H=e.inject(we),T=e.inject(Ce),{setMenuFocused:X,setShiftKey:r,getStore:c}=nn();e.onMounted(()=>{var K;P.value=!0,!((K=l.presetRanges)!=null&&K.length)&&!n["left-sidebar"]&&!n["right-sidebar"]&&W();const d=le(w);if(d&&!l.textInput&&!l.inline&&(X(!0),U()),d){const R=L=>{!l.monthYearComponent&&!l.timePickerComponent&&L.preventDefault(),L.stopImmediatePropagation(),L.stopPropagation()};d.addEventListener("pointerdown",R),d.addEventListener("mousedown",R)}document.addEventListener("resize",W)}),e.onUnmounted(()=>{document.removeEventListener("resize",W)});const{arrowRight:E,arrowLeft:q,arrowDown:V,arrowUp:Y}=be(),U=()=>{const d=le(w);d&&d.focus({preventScroll:!0})},Z=()=>{var d;((d=l.flow)==null?void 0:d.length)&&O.value!==-1&&(O.value+=1,a("flow-step",O.value),ln())},j=()=>{O.value=-1},{updateTime:z,updateMonthYear:b,today:v,month:o,year:p,hours:B,minutes:D,seconds:$,isDisabled:I,isActiveDate:F,selectDate:Q,getWeekNum:k,setHoverDate:M,isHoverRangeEnd:A,isAutoRangeInBetween:de,isAutoRangeStart:ye,rangeActive:Me,clearHoverDate:ge,rangeActiveStartEnd:he,monthYearSelect:Ke,handleScroll:ke,handleArrow:ie,handleSwipe:He,getMarker:ve,selectCurrentDate:De,isHoverDateStartEnd:Re,isHoverDate:m,presetDateRange:J}=fa(l,a,Z,y),te=Ve(n,"calendar"),Le=Ve(n,"action"),Ne=Ve(n,"timePicker"),et=Ve(n,"monthYear"),s=e.computed(()=>l.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),C=e.computed(()=>il(l.yearRange)),S=e.computed(()=>cl(l.locale,l.monthNameFormat)),W=()=>{const d=le(u);d&&(N.value=d.getBoundingClientRect().width)},ce=e.computed(()=>d=>rl(o.value(d),p.value(d),+l.weekStart,l.hideOffsetDates)),Pe=e.computed(()=>l.multiCalendars>0&&l.range?[...Array(l.multiCalendars).keys()]:[0]),ue=e.computed(()=>d=>d===1),Oe=e.computed(()=>l.monthPicker||l.timePicker||l.yearPicker),Be=e.computed(()=>({dp__flex_display:l.multiCalendars>0})),Aa=e.computed(()=>({dp__instance_calendar:l.multiCalendars>0})),Ta=e.computed(()=>({dp__menu_disabled:l.disabled,dp__menu_readonly:l.readonly})),_a=e.computed(()=>d=>Ia(ce,d)),Ea=e.computed(()=>({locale:l.locale,weekNumName:l.weekNumName,weekStart:l.weekStart,weekNumbers:l.weekNumbers,customProps:l.customProps,calendarClassName:l.calendarClassName,specificMode:Oe.value,getWeekNum:k,multiCalendars:l.multiCalendars,modeHeight:l.modeHeight,internalModelValue:l.internalModelValue,noSwipe:l.noSwipe,vertical:l.vertical,dayNames:l.dayNames,monthChangeOnScroll:l.monthChangeOnScroll})),Ra=e.computed(()=>({dp__menu:!0,dp__menu_index:!l.inline,dp__relative:l.inline,[l.menuClassName]:!!l.menuClassName})),Oa=()=>l.modelAuto&&Array.isArray(l.internalModelValue)?!!l.internalModelValue[0]:!1,ze=()=>l.modelAuto?xt(l.internalModelValue):!0,Ia=(d,K)=>d.value(K).map(R=>({...R,days:R.days.map(L=>{const G=I(L.value),je=m(G,L),Ae=l.range?l.modelAuto?Oa()&&F(L):!1:F(L),an=l.highlight?Yt(L.value,l.highlight):!1,rn=G&&l.highlightDisabledDays==!1,on=l.highlightWeekDays&&l.highlightWeekDays.includes(L.value.getDay()),sn=(l.range||l.weekPicker)&&(l.multiCalendars>0?L.current:!0)&&!G&&ze()&&!(!L.current&&l.hideOffsetDates)&&!F(L)?Me(L):!1;return L.marker=ve(L),L.classData={dp__cell_offset:!L.current,dp__pointer:!G&&!(!L.current&&l.hideOffsetDates),dp__active_date:Ae,dp__date_hover:je,dp__date_hover_start:Re(je,L,!0),dp__date_hover_end:Re(je,L,!1),dp__range_between:sn&&!l.weekPicker,dp__range_between_week:sn&&l.weekPicker,dp__today:!l.noToday&&x(L.value,v.value)&&L.current,dp__cell_disabled:G,dp__cell_auto_range:de(L),dp__cell_auto_range_start:ye(L),dp__cell_auto_range_end:A(L),dp__range_start:l.multiCalendars>0?L.current&&he(L)&&ze():he(L)&&ze(),dp__range_end:l.multiCalendars>0?L.current&&he(L,!1)&&ze():he(L,!1)&&ze(),[l.calendarCellClassName]:!!l.calendarCellClassName,dp__cell_highlight:!rn&&(an||on)&&!Ae,dp__cell_highlight_active:!rn&&(an||on)&&Ae,[l.dayClass?l.dayClass(L.value):""]:!0},L})})),Ya=d=>{d.stopPropagation(),d.preventDefault(),d.stopImmediatePropagation()},Ka=()=>{l.escClose&&a("closePicker")},Ha=(d,K=!1)=>{Q(d,K),l.spaceConfirm&&a("selectDate")},St=d=>{var K;(K=l.flow)!=null&&K.length&&(f[d]=!0,Object.keys(f).filter(R=>!f[R]).length||ln())},ln=()=>{l.flow[O.value]==="month"&&h.value[0]&&h.value[0].toggleMonthPicker(!0),l.flow[O.value]==="year"&&h.value&&h.value[0].toggleYearPicker(!0),l.flow[O.value]==="calendar"&&g.value&&g.value.toggleTimePicker(!1,!0),l.flow[O.value]==="time"&&g.value&&g.value.toggleTimePicker(!0,!0);const d=l.flow[O.value];(d==="hours"||d==="minutes"||d==="seconds")&&g.value&&g.value.toggleTimePicker(!0,!0,d)},tt=d=>{if(T!=null&&T.value){if(d==="up")return Y();if(d==="down")return V();if(d==="left")return q();if(d==="right")return E()}else d==="left"||d==="up"?ie("left",0,d==="up"):ie("right",0,d==="down")},va=d=>{r(d.shiftKey),!l.disableMonthYearSelect&&d.code==="Tab"&&d.target.classList.contains("dp__menu")&&c().shiftKeyInMenu&&(d.preventDefault(),d.stopImmediatePropagation(),a("closePicker"))};return(d,K)=>(e.openBlock(),e.createBlock(e.Transition,{appear:"",name:e.unref(_).menuAppear,mode:"out-in",css:!!e.unref(_)},{default:e.withCtx(()=>[e.createElementVNode("div",{id:d.uid?`dp-menu-${d.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:w,role:"dialog","aria-label":e.unref(H).menu,class:e.normalizeClass(e.unref(Ra)),onMouseleave:K[12]||(K[12]=(...R)=>e.unref(ge)&&e.unref(ge)(...R)),onClick:Ya,onKeydown:[e.withKeys(Ka,["esc"]),K[13]||(K[13]=e.withKeys(e.withModifiers(R=>tt("left"),["prevent"]),["left"])),K[14]||(K[14]=e.withKeys(e.withModifiers(R=>tt("up"),["prevent"]),["up"])),K[15]||(K[15]=e.withKeys(e.withModifiers(R=>tt("down"),["prevent"]),["down"])),K[16]||(K[16]=e.withKeys(e.withModifiers(R=>tt("right"),["prevent"]),["right"])),va]},[(d.disabled||d.readonly)&&d.inline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(Ta))},null,2)):e.createCommentVNode("",!0),!d.inline&&!d.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(s))},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass({dp__menu_content_wrapper:d.presetRanges.length||!!d.$slots["left-sidebar"]||!!d.$slots["right-sidebar"]})},[d.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",ya,[e.renderSlot(d.$slots,"left-sidebar")])):e.createCommentVNode("",!0),d.presetRanges.length?(e.openBlock(),e.createElementBlock("div",ha,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.presetRanges,(R,L)=>(e.openBlock(),e.createElementBlock("div",{key:L,style:e.normalizeStyle(R.style||{}),class:"dp__preset_range",onClick:G=>e.unref(J)(R.range,!!R.slot)},[R.slot?e.renderSlot(d.$slots,R.slot,{key:0,presetDateRange:e.unref(J),label:R.label,range:R.range}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(R.label),1)],64))],12,ga))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:u,role:"document"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(Be))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(Pe),(R,L)=>(e.openBlock(),e.createElementBlock("div",{key:R,class:e.normalizeClass(e.unref(Aa))},[!d.disableMonthYearSelect&&!d.timePicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.monthYearComponent?d.monthYearComponent:Zl),e.mergeProps({key:0,ref_for:!0,ref:G=>{G&&(h.value[L]=G)}},{months:e.unref(S),years:e.unref(C),filters:d.filters,monthPicker:d.monthPicker,month:e.unref(o)(R),year:e.unref(p)(R),customProps:d.customProps,multiCalendars:t.multiCalendars,multiCalendarsSolo:d.multiCalendarsSolo,instance:R,minDate:d.minDate,maxDate:d.maxDate,preventMinMaxNavigation:d.preventMinMaxNavigation,internalModelValue:t.internalModelValue,range:d.range,reverseYears:d.reverseYears,vertical:d.vertical,yearPicker:d.yearPicker,escClose:d.escClose},{onMount:K[0]||(K[0]=G=>St("monthYearInput")),onResetFlow:j,onUpdateMonthYear:G=>e.unref(b)(R,G),onMonthYearSelect:e.unref(Ke),onOverlayClosed:U}),e.createSlots({_:2},[e.renderList(e.unref(et),(G,je)=>({name:G,fn:e.withCtx(Ae=>[e.renderSlot(d.$slots,G,e.normalizeProps(e.guardReactiveProps(Ae)))])}))]),1040,["onUpdateMonthYear","onMonthYearSelect"])):e.createCommentVNode("",!0),e.createVNode(El,e.mergeProps({ref_for:!0,ref:G=>{G&&(y.value[L]=G)}},e.unref(Ea),{"flow-step":O.value,"onUpdate:flow-step":K[1]||(K[1]=G=>O.value=G),instance:R,"mapped-dates":e.unref(_a)(R),month:e.unref(o)(R),year:e.unref(p)(R),onSelectDate:G=>e.unref(Q)(G,!e.unref(ue)(R)),onHandleSpace:G=>Ha(G,!e.unref(ue)(R)),onSetHoverDate:K[2]||(K[2]=G=>e.unref(M)(G)),onHandleScroll:G=>e.unref(ke)(G,R),onHandleSwipe:G=>e.unref(He)(G,R),onMount:K[3]||(K[3]=G=>St("calendar")),onResetFlow:j}),e.createSlots({_:2},[e.renderList(e.unref(te),(G,je)=>({name:G,fn:e.withCtx(Ae=>[e.renderSlot(d.$slots,G,e.normalizeProps(e.guardReactiveProps({...Ae})))])}))]),1040,["flow-step","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),e.createElementVNode("div",null,[d.enableTimePicker&&!d.monthPicker&&!d.weekPicker?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.timePickerComponent?d.timePickerComponent:ma),e.mergeProps({key:0,ref_key:"timePickerRef",ref:g},{is24:d.is24,hoursIncrement:d.hoursIncrement,minutesIncrement:d.minutesIncrement,hoursGridIncrement:d.hoursGridIncrement,secondsIncrement:d.secondsIncrement,minutesGridIncrement:d.minutesGridIncrement,secondsGridIncrement:d.secondsGridIncrement,noHoursOverlay:d.noHoursOverlay,noMinutesOverlay:d.noMinutesOverlay,noSecondsOverlay:d.noSecondsOverlay,range:d.range,filters:d.filters,timePicker:d.timePicker,hours:e.unref(B),minutes:e.unref(D),seconds:e.unref($),customProps:d.customProps,enableSeconds:d.enableSeconds,fixedStart:d.fixedStart,fixedEnd:d.fixedEnd,modelAuto:d.modelAuto,internalModelValue:t.internalModelValue,escClose:d.escClose},{onMount:K[4]||(K[4]=R=>St("timePicker")),"onUpdate:hours":K[5]||(K[5]=R=>e.unref(z)(R)),"onUpdate:minutes":K[6]||(K[6]=R=>e.unref(z)(R,!1)),"onUpdate:seconds":K[7]||(K[7]=R=>e.unref(z)(R,!1,!0)),onResetFlow:j,onOverlayClosed:U}),e.createSlots({_:2},[e.renderList(e.unref(Ne),(R,L)=>({name:R,fn:e.withCtx(G=>[e.renderSlot(d.$slots,R,e.normalizeProps(e.guardReactiveProps(G)))])}))]),1040)):e.createCommentVNode("",!0)])],512),d.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",ka,[e.renderSlot(d.$slots,"right-sidebar")])):e.createCommentVNode("",!0),d.showNowButton?(e.openBlock(),e.createElementBlock("div",wa,[d.$slots["now-button"]?e.renderSlot(d.$slots,"now-button",{key:0,selectCurrentDate:e.unref(De)}):e.createCommentVNode("",!0),d.$slots["now-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",role:"button",class:"dp__now_button",onClick:K[8]||(K[8]=(...R)=>e.unref(De)&&e.unref(De)(...R))},e.toDisplayString(d.nowButtonLabel),1))])):e.createCommentVNode("",!0)],2),!d.autoApply||d.keepActionRow?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(d.actionRowComponent?d.actionRowComponent:Cl),e.mergeProps({key:2},{calendarWidth:N.value,selectText:d.selectText,cancelText:d.cancelText,internalModelValue:t.internalModelValue,range:d.range,previewFormat:d.previewFormat,inline:d.inline,monthPicker:d.monthPicker,timePicker:d.timePicker,customProps:d.customProps,multiCalendars:t.multiCalendars,menuMount:P.value,maxTime:d.maxTime,minTime:d.minTime,enableTimePicker:d.enableTimePicker,minDate:d.minDate,maxDate:d.maxDate,multiDates:d.multiDates,modelAuto:d.modelAuto,partialRange:d.partialRange,ignoreTimeValidation:d.ignoreTimeValidation},{onClosePicker:K[9]||(K[9]=R=>d.$emit("closePicker")),onSelectDate:K[10]||(K[10]=R=>d.$emit("selectDate")),onInvalidSelect:K[11]||(K[11]=R=>d.$emit("invalid-select"))}),e.createSlots({_:2},[e.renderList(e.unref(Le),(R,L)=>({name:R,fn:e.withCtx(G=>[e.renderSlot(d.$slots,R,e.normalizeProps(e.guardReactiveProps({...G})))])}))]),1040)):e.createCommentVNode("",!0)],42,pa)]),_:3},8,["name","css"]))}}),Ma=(t,a,l,n,u,f,h,y,g,w,N,P,O,_,H,T,X)=>{const r=e.ref(""),c=e.ref();e.watch(c,()=>{X("internalModelChange",c.value)});const E=o=>[Z(o[0]),o[1]?Z(o[1]):null],q=o=>{let p=null;o?a?Fn(o)&&"hours"in o[0]&&"minutes"in o[0]?p=[se(null,+o[0].hours,+o[0].minutes,+o[0].seconds),se(null,+o[1].hours,+o[1].minutes,+o[1].seconds)]:Qn(o)&&(p=se(null,+o.hours,+o.minutes,+o.seconds)):l?xn(o)&&"month"in o[0]&&"year"in o[0]?(p=[$e(null,+o[0].month,+o[0].year)],o[1]?p[1]=$e(null,+o[1].month,+o[1].year):!o[1]&&u&&(p[1]=null)):el(o)&&"month"in o&&"year"in o&&(p=$e(null,+o.month,+o.year)):O?Array.isArray(o)?p=[i.setYear(new Date,o[0]),!o[1]&&u?null:i.setYear(new Date,o[1])]:p=i.setYear(new Date,o):w&&Array.isArray(o)?p=o.map(B=>Z(B)):P&&Array.isArray(o)?p=[new Date(o[0]),new Date(o[1])]:n?T?Array.isArray(o)?p=E(o):p=[Z(o),null]:tl(o,u)&&(p=E(o)):ll(o)&&(p=Z(o)):p=null,lt(p)?(c.value=p,Y()):(c.value=null,r.value="")},V=()=>Et(t,f,y,l,a,P,O,h),Y=()=>{if(!c.value)r.value="";else if(!t||typeof t=="string"){const o=V();Array.isArray(c.value)&&w?r.value=c.value.map(p=>Te(p,o,g==null?void 0:g.value)).join("; "):r.value=Te(c.value,o,g==null?void 0:g.value,_==null?void 0:_.rangeSeparator,T)}else a?r.value=t(rt(c.value)):l?r.value=t(Rt(c.value)):r.value=t(c.value)},U=()=>c.value?n?u?c.value.length>=1:c.value.length===2:!!c.value:!1,Z=o=>{if(N){const p=new Date(o);return N==="preserve"?new Date(p.getTime()+p.getTimezoneOffset()*6e4):p}return H?H==="date"||H==="timestamp"?new Date(o):H==="format"&&(typeof t=="string"||!t)?i.parse(o,V(),new Date):i.parse(o,H,new Date):new Date(o)},j=o=>H?H==="timestamp"?+o:H==="format"&&(typeof t=="string"||!t)?Te(o,V(),g==null?void 0:g.value,_==null?void 0:_.rangeSeparator):Te(o,H,g==null?void 0:g.value,_==null?void 0:_.rangeSeparator):o,z=o=>{X("update:modelValue",o)},b=()=>[j(c.value[0]),c.value[1]?j(c.value[1]):null];return{parseExternalModelValue:q,formatInputValue:Y,internalModelValue:c,inputValue:r,emitModelValue:()=>{if(l)z(Rt(c.value));else if(a)z(rt(c.value));else if(P)z(c.value);else if(O)z(Array.isArray(c.value)?[i.getYear(c.value[0]),c.value[1]?i.getYear(c.value[1]):null]:i.getYear(c.value));else{if(c.value&&n&&u&&c.value.length===1&&c.value.push(null),N){let o;if(Array.isArray(c.value)){const p=B=>B&&ct(B,N==="preserve");T?o=c.value[1]?c.value.map(p):ct(c.value[0],N==="preserve"):o=c.value.map(p)}else o=ct(c.value,N==="preserve");return z(o)}Array.isArray(c.value)&&!w?z(T?c.value[1]?b():j(c.value[0]):b()):Array.isArray(c.value)&&w?z(c.value.map(o=>j(o))):z(j(c.value))}Y()},checkBeforeEmit:U}},Da=(t,a,l,n,u,f,h,y,g)=>{const w=e.ref({top:"0",left:"0",transform:"none"}),N=e.ref(!1),P=390;e.watch(y,()=>{E()});const O=V=>{const Y=V.getBoundingClientRect();return{left:Y.left+window.scrollX,top:Y.top+window.scrollY}},_=V=>{const Y=V.getBoundingClientRect();let U=0,Z=0;for(;V&&!isNaN(V.offsetLeft)&&!isNaN(V.offsetTop);)U+=V.offsetLeft-V.scrollLeft,Z=Y.top+V.scrollTop,V=V.offsetParent;return{top:Z,left:U}},H=(V,Y)=>{w.value.left=`${V+Y}px`,w.value.transform="translateX(-100%)"},T=V=>{w.value.left=`${V}px`,w.value.transform="translateX(0)"},X=(V,Y)=>{t===Ze.left&&T(V),t===Ze.right&&H(V,Y),t===Ze.center&&(w.value.left=`${V+Y/2}px`,w.value.transform="translateX(-50%)")},r=()=>{const V=le(u);if(V){const Y=window.innerHeight,{top:U,left:Z}=a?_(V):O(V),{width:j,top:z,height:b}=V.getBoundingClientRect(),v=Y-z-b;w.value.top=z>v?`${U-P}px`:`${U}px`,X(Z,j)}},c=()=>{w.value.left="50%",w.value.top="50%",w.value.transform="translate(-50%, -50%)",w.value.position="fixed"},E=(V=!0)=>{if(!f){if(y.value)return c();const Y=le(u);if(a&&typeof a!="boolean")w.value=a(Y);else if(Y){const{width:U,height:Z}=Y.getBoundingClientRect(),{top:j,left:z}=a?_(Y):O(Y);w.value.top=`${Z+j+ +h}px`,X(z,U),V&&l&&q()}}},q=()=>{const V=le(u);if(V&&l&&!f){const{height:Y,top:U,width:Z}=V.getBoundingClientRect(),{top:j,left:z}=a?_(V):O(V),v=window.innerHeight-U-Y,o=le(n);if(o){const{height:p,left:B,right:D}=o.getBoundingClientRect(),$=p+Y;$>U&&$>v?U<v?(E(!1),N.value=!1):(w.value.top=`${j-p-+h}px`,N.value=!0):$>v?(w.value.top=`${j-p-+h}px`,N.value=!0):(E(!1),N.value=!1),B<0?T(z):D>document.documentElement.clientWidth&&H(z,Z)}}g("recalculatePosition")};return{openOnTop:N,menuPosition:w,setMenuPosition:E,setInitialPosition:r,recalculatePosition:q}},Ba=typeof window<"u"?window:void 0,Dt=()=>{},Sa=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,$a=(t,a,l,n)=>{if(!t)return Dt;let u=Dt;const f=e.watch(()=>e.unref(t),y=>{u(),y&&(y.addEventListener(a,l,n),u=()=>{y.removeEventListener(a,l,n),u=Dt})},{immediate:!0,flush:"post"}),h=()=>{f(),u()};return Sa(h),h},Va=(t,a,l,n={})=>{const{window:u=Ba,event:f="pointerdown"}=n;return u?$a(u,f,y=>{const g=le(t),w=le(a);!g||!w||g===y.target||y.composedPath().includes(g)||y.composedPath().includes(w)||l(y)},{passive:!0}):void 0},Na={compatConfig:{MODE:3}},Pa=e.defineComponent({...Na,__name:"VueDatePicker",props:{...jn},emits:["update:modelValue","textSubmit","closed","cleared","open","focus","blur","internalModelChange","recalculatePosition","flow-step","updateMonthYear","invalid-select"],setup(t,{expose:a,emit:l}){const n=t,u=e.useSlots(),f=e.ref(!1),h=e.toRef(n,"modelValue"),y=e.ref(null),g=e.ref(null),w=e.toRef(n,"teleportCenter");e.provide(dt,n.autoApply);const N=e.computed(()=>n.formatLocale);e.provide(vt,N),e.provide(Ht,e.toRef(n,"textInput")),e.provide(Ce,e.toRef(n,"arrowNavigation")),e.onMounted(()=>{q(n.modelValue),n.inline||(window.addEventListener("scroll",M),window.addEventListener("resize",A)),n.inline&&(f.value=!0)}),e.onUnmounted(()=>{n.inline||(window.removeEventListener("scroll",M),window.removeEventListener("resize",A))});const P=Ve(u,"all",n.presetRanges),O=Ve(u,"input");e.watch(h,()=>{q(h.value)},{deep:!0});const{openOnTop:_,menuPosition:H,setMenuPosition:T,recalculatePosition:X,setInitialPosition:r}=Da(n.position,n.altPosition,n.autoPosition,y,g,n.inline,n.offset,w,l),{internalModelValue:c,inputValue:E,parseExternalModelValue:q,emitModelValue:V,checkBeforeEmit:Y,formatInputValue:U}=Ma(n.format,n.timePicker,n.monthPicker,n.range,n.partialRange,n.is24,n.enableTimePicker,n.enableSeconds,N,n.multiDates,n.utc,n.weekPicker,n.yearPicker,n.textInputOptions,n.modelType,n.modelAuto,l),{clearArrowNav:Z}=be(),{setMenuFocused:j,setShiftKey:z}=nn(),b=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:n.inline,dp__flex_display_with_input:n.inlineWithInput})),v=e.computed(()=>Qt(n.format)?n.format:Et(null,n.is24,n.enableSeconds,n.monthPicker,n.timePicker,n.weekPicker,n.yearPicker,n.enableTimePicker)),o=e.computed(()=>n.previewFormat?n.previewFormat:Qt(v.value)?v.value:n.format),p=e.computed(()=>typeof n.transitions=="boolean"?n.transitions?Ft({}):!1:Ft(n.transitions));e.provide(Xe,p);const B=e.computed(()=>m=>{var J;return(J=n.hideNavigation)==null?void 0:J.includes(m)});e.provide(ut,B);const D=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),$=e.computed(()=>Object.assign(ul(),n.textInputOptions)),I=e.computed(()=>yl(n.ariaLabels));e.provide(we,I);const F=e.computed(()=>ml(n.filters)),Q=e.computed(()=>{const m=J=>{const te={hours:i.getHours(new Date),minutes:i.getMinutes(new Date),seconds:i.getSeconds(new Date)};return Object.assign(te,J)};return n.range?n.startTime&&Array.isArray(n.startTime)?[m(n.startTime[0]),m(n.startTime[1])]:null:n.startTime&&!Array.isArray(n.startTime)?m(n.startTime):null}),k=e.computed(()=>n.multiCalendars===null?0:typeof n.multiCalendars=="boolean"?n.multiCalendars?2:0:+n.multiCalendars>=2?+n.multiCalendars:2),M=()=>{f.value&&(n.closeOnScroll?ie():n.autoPosition?T():window.removeEventListener("scroll",M))},A=()=>{f.value&&T()},de=()=>{!n.disabled&&!n.readonly&&(r(),f.value=!0,e.nextTick().then(()=>{T(),f.value&&l("open")}),f.value||ke(),q(n.modelValue))},ye=()=>{E.value="",ke(),l("update:modelValue",null),l("cleared"),ie()},Me=()=>{const{validate:m}=Kt(n.minDate,n.maxDate,n.disabledDates,n.allowedDates,F.value,n.disabledWeekDays,n.yearRange),J=c.value;return!J||!Array.isArray(J)&&m(J)?!0:Array.isArray(J)?J.length===2&&m(J[0])&&m(J[1])?!0:!!m(J[0]):!1},ge=()=>{Y()&&Me()?(V(),ie()):l("invalid-select",c.value)},he=m=>{V(),n.closeOnAutoApply&&!m&&ie()},Ke=(m=!1)=>{n.autoApply&&(!n.enableTimePicker||n.monthPicker||n.yearPicker||n.ignoreTimeValidation?!0:it(c.value,n.maxTime,n.minTime,n.maxDate,n.minDate))&&Me()&&(n.range&&Array.isArray(c.value)?(n.partialRange||c.value.length===2)&&he(m):he(m))},ke=()=>{c.value=null},ie=()=>{n.inline||(f.value&&(f.value=!1,j(!1),z(!1),Z(),l("closed"),r(),E.value&&q(h.value)),ke(),g.value&&g.value.focusInput())},He=(m,J)=>{if(!m){c.value=null;return}c.value=m,J&&(ge(),l("textSubmit"))},ve=()=>{n.autoApply&&it(c.value,n.maxTime,n.minTime,n.maxDate,n.minDate)&&V()},De=()=>f.value?ie():de(),Re=m=>{c.value=m};return Va(y,g,ie),a({closeMenu:ie,selectDate:ge,clearValue:ye,openMenu:de,onScroll:M,formatInputValue:U,updateInternalModelValue:Re}),(m,J)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(b))},[e.createVNode(Zn,e.mergeProps({ref_key:"inputRef",ref:g},{placeholder:m.placeholder,hideInputIcon:m.hideInputIcon,readonly:m.readonly,disabled:m.disabled,inputClassName:m.inputClassName,clearable:m.clearable,state:m.state,inline:m.inline,inlineWithInput:m.inlineWithInput,textInput:m.textInput,textInputOptions:e.unref($),range:m.range,isMenuOpen:f.value,pattern:e.unref(v),autoApply:m.autoApply,uid:m.uid,required:m.required,name:m.name,autocomplete:m.autocomplete},{"input-value":e.unref(E),"onUpdate:input-value":J[0]||(J[0]=te=>e.isRef(E)?E.value=te:null),onClear:ye,onOpen:de,onSetInputDate:He,onSetEmptyDate:e.unref(V),onSelectDate:ge,onToggle:De,onClose:ie,onFocus:J[1]||(J[1]=te=>m.$emit("focus")),onBlur:J[2]||(J[2]=te=>m.$emit("blur"))}),e.createSlots({_:2},[e.renderList(e.unref(O),(te,Le)=>({name:te,fn:e.withCtx(Ne=>[e.renderSlot(m.$slots,te,e.normalizeProps(e.guardReactiveProps(Ne)))])}))]),1040,["input-value","onSetEmptyDate"]),f.value?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:m.teleport,disabled:m.inline},[f.value?(e.openBlock(),e.createBlock(ba,e.mergeProps({key:0,ref_key:"dpMenuRef",ref:y,class:e.unref(D),style:e.unref(H)},{weekNumbers:m.weekNumbers,weekStart:m.weekStart,disableMonthYearSelect:m.disableMonthYearSelect,menuClassName:m.menuClassName,calendarClassName:m.calendarClassName,yearRange:m.yearRange,range:m.range,multiCalendars:e.unref(k),multiCalendarsSolo:m.multiCalendarsSolo,multiStatic:m.multiStatic,calendarCellClassName:m.calendarCellClassName,enableTimePicker:m.enableTimePicker,is24:m.is24,hoursIncrement:m.hoursIncrement,minutesIncrement:m.minutesIncrement,hoursGridIncrement:m.hoursGridIncrement,minutesGridIncrement:m.minutesGridIncrement,minDate:m.minDate,maxDate:m.maxDate,autoApply:m.autoApply,selectText:m.selectText,cancelText:m.cancelText,previewFormat:e.unref(o),locale:m.locale,weekNumName:m.weekNumName,disabledDates:m.disabledDates,filters:e.unref(F),minTime:m.minTime,maxTime:m.maxTime,inline:m.inline,openOnTop:e.unref(_),monthPicker:m.monthPicker,timePicker:m.timePicker,monthNameFormat:m.monthNameFormat,startDate:m.startDate,startTime:e.unref(Q),monthYearComponent:m.monthYearComponent,timePickerComponent:m.timePickerComponent,actionRowComponent:m.actionRowComponent,customProps:m.customProps,hideOffsetDates:m.hideOffsetDates,autoRange:m.autoRange,noToday:m.noToday,noHoursOverlay:m.noHoursOverlay,noMinutesOverlay:m.noMinutesOverlay,disabledWeekDays:m.disabledWeekDays,allowedDates:m.allowedDates,showNowButton:m.showNowButton,nowButtonLabel:m.nowButtonLabel,monthChangeOnScroll:m.monthChangeOnScroll,markers:m.markers,uid:m.uid,modeHeight:m.modeHeight,enableSeconds:m.enableSeconds,secondsIncrement:m.secondsIncrement,secondsGridIncrement:m.secondsGridIncrement,noSecondsOverlay:m.noSecondsOverlay,escClose:m.escClose,spaceConfirm:m.spaceConfirm,monthChangeOnArrows:m.monthChangeOnArrows,textInput:m.textInput,disabled:m.disabled,readonly:m.readonly,multiDates:m.multiDates,presetRanges:m.presetRanges,flow:m.flow,preventMinMaxNavigation:m.preventMinMaxNavigation,minRange:m.minRange,maxRange:m.maxRange,fixedStart:m.fixedStart,fixedEnd:m.fixedEnd,multiDatesLimit:m.multiDatesLimit,reverseYears:m.reverseYears,keepActionRow:m.keepActionRow,weekPicker:m.weekPicker,noSwipe:m.noSwipe,vertical:m.vertical,arrowNavigation:m.arrowNavigation,yearPicker:m.yearPicker,disableTimeRangeValidation:m.disableTimeRangeValidation,dayNames:m.dayNames,modelAuto:m.modelAuto,highlight:m.highlight,highlightWeekDays:m.highlightWeekDays,highlightDisabledDays:m.highlightDisabledDays,partialRange:m.partialRange,teleportCenter:m.teleportCenter,ignoreTimeValidation:m.ignoreTimeValidation,dayClass:m.dayClass},{internalModelValue:e.unref(c),"onUpdate:internalModelValue":J[3]||(J[3]=te=>e.isRef(c)?c.value=te:null),onClosePicker:ie,onSelectDate:ge,onDpOpen:e.unref(X),onAutoApply:Ke,onTimeUpdate:ve,onFlowStep:J[4]||(J[4]=te=>m.$emit("flow-step",te)),onUpdateMonthYear:J[5]||(J[5]=te=>m.$emit("updateMonthYear",te)),onInvalidSelect:J[6]||(J[6]=te=>m.$emit("invalid-select",e.unref(c)))}),e.createSlots({_:2},[e.renderList(e.unref(P),(te,Le)=>({name:te,fn:e.withCtx(Ne=>[e.renderSlot(m.$slots,te,e.normalizeProps(e.guardReactiveProps({...Ne})))])}))]),1040,["class","style","internalModelValue","onDpOpen"])):e.createCommentVNode("",!0)],8,["to","disabled"])):e.createCommentVNode("",!0)],2))}}),Bt=(()=>{const t=Pa;return t.install=a=>{a.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Bt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,a])=>{t!=="default"&&(Bt[t]=a)}),Bt});
